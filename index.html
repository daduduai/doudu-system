<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§éƒ½ç£å‰¯ä¸šå¹³å°æ•°æ®æŸ¥è¯¢ç³»ç»Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#722ED1',
                        success: '#52C41A',
                        warning: '#FAAD14',
                        danger: '#FF4D4F',
                        dark: '#1F2937',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'bounce-in': 'bounceIn 0.8s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'marquee': 'marquee 30s linear infinite',
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .gradient-bg {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
            .card-shadow {
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }
            .hover-lift {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .hover-lift:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes bounceIn {
            0% { 
                opacity: 0; 
                transform: scale(0.3); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.05); 
            }
            70% { 
                transform: scale(0.9); 
            }
            100% { 
                opacity: 1; 
                transform: scale(1); 
            }
        }
        
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .platform-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 4px;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .marquee-container {
            overflow: hidden;
            position: relative;
            white-space: nowrap;
        }
        
        .marquee-content {
            display: inline-block;
            animation: marquee 30s linear infinite;
        }
        
        .marquee-content:hover {
            animation-play-state: paused;
        }
        
        .notification-dot {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 8px;
            height: 8px;
            background-color: #FF4D4F;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .role-badge {
            padding: 0.2rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .login-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .commission-badge {
            padding: 0.2rem 0.5rem;
            background: linear-gradient(45deg, #165DFF, #722ED1);
            color: white;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: 600;
        }
    </style>
</head>
<body class="font-inter bg-gray-50 min-h-screen">
    <!-- ç™»å½•é¡µé¢ -->
    <div id="loginPage" class="fixed inset-0 login-gradient flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 animate-bounce-in">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-bullseye text-white text-2xl"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-900">å¤§éƒ½ç£å‰¯ä¸šå¹³å°</h1>
                <p class="text-gray-600">æ•°æ®æŸ¥è¯¢ç³»ç»Ÿ</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”¨æˆ·å</label>
                    <input type="text" id="loginUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¯†ç </label>
                    <input type="password" id="loginPassword" placeholder="è¯·è¾“å…¥å¯†ç " 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <button onclick="login()" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium">
                    <i class="fa fa-sign-in mr-2"></i>ç™»å½•ç³»ç»Ÿ
                </button>
                
                <div class="text-center text-sm text-gray-600">
                    <p>é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼šadmin / admin123</p>
                    <p>é»˜è®¤å›¢é•¿è´¦å·ï¼šleader / leader123</p>
                    <p>é»˜è®¤æ™®é€šç”¨æˆ·ï¼šuser / user123</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ»šåŠ¨æ¶ˆæ¯é€šçŸ¥æ  -->
    <div id="notificationBar" class="bg-gradient-to-r from-primary to-secondary text-white py-2 relative overflow-hidden hidden">
        <div class="marquee-container">
            <div class="marquee-content" id="marqueeContent">
                <span class="inline-block px-8">ğŸ“¢ ã€é‡è¦é€šçŸ¥ã€‘2024å¹´10æœˆæ”¶ç›Šç»Ÿè®¡å·²æ›´æ–°ï¼Œè¯·åŠæ—¶æŸ¥çœ‹</span>
                <span class="inline-block px-8">ğŸ“£ æ–°åŠŸèƒ½ä¸Šçº¿ï¼šæ”¯æŒæŠ–éŸ³å°åº—æ•°æ®å¯¼å…¥ï¼Œæ¬¢è¿ä½“éªŒ</span>
                <span class="inline-block px-8">âš ï¸ ç³»ç»Ÿå°†äº2024-10-25 23:00è¿›è¡Œç»´æŠ¤ï¼Œè¯·æå‰åšå¥½å‡†å¤‡</span>
                <span class="inline-block px-8">ğŸ‰ æ­å–œåä¸œå›¢é˜Ÿæœ¬æœˆæ”¶ç›Šçªç ´100ä¸‡ï¼</span>
            </div>
        </div>
        
        <!-- ç®¡ç†å‘˜æ¶ˆæ¯ç®¡ç†æŒ‰é’® -->
        <div class="absolute right-4 top-1/2 transform -translate-y-1/2">
            <button onclick="toggleNotificationManager()" class="bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full text-sm transition-colors relative">
                <i class="fa fa-bullhorn mr-1"></i>ç®¡ç†
                <span class="notification-dot"></span>
            </button>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav id="mainNav" class="bg-white shadow-lg sticky top-0 z-40 hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex-shrink-0">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-lg flex items-center justify-center">
                            <i class="fa fa-bullseye text-white text-lg"></i>
                        </div>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">å¤§éƒ½ç£å‰¯ä¸šå¹³å°æ•°æ®æŸ¥è¯¢ç³»ç»Ÿ</h1>
                        <p class="text-xs text-gray-500">å¤šå¹³å°æ•°æ®æ•´åˆ Â· æ™ºèƒ½åˆ†æ</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-6">
                    <div class="flex items-center space-x-2">
                        <div class="status-indicator bg-success"></div>
                        <span class="text-sm text-gray-600">æ•°æ®åŒæ­¥ä¸­</span>
                    </div>
                    
                    <!-- ç”¨æˆ·ä¿¡æ¯ -->
                    <div class="flex items-center space-x-3">
                        <div class="text-right">
                            <p class="text-sm font-medium text-gray-900" id="currentUsername">ç®¡ç†å‘˜</p>
                            <div class="flex items-center justify-end">
                                <span id="userRoleBadge" class="role-badge bg-red-100 text-red-800">è¶…çº§ç®¡ç†å‘˜</span>
                            </div>
                        </div>
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <i class="fa fa-bullseye text-white text-sm"></i>
                        </div>
                        <div class="relative group">
                            <button onclick="toggleUserMenu()" class="text-gray-500 hover:text-gray-700">
                                <i class="fa fa-caret-down"></i>
                            </button>
                            <div id="userMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 hidden">
                                <a href="#" onclick="showUserProfile()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="fa fa-bullseye mr-2"></i>ä¸ªäººèµ„æ–™
                                </a>
                                <a href="#" onclick="showChangePassword()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="fa fa-key mr-2"></i>ä¿®æ”¹å¯†ç 
                                </a>
                                <a href="#" onclick="logout()" class="block px-4 py-2 text-sm text-danger hover:bg-gray-100">
                                    <i class="fa fa-sign-out mr-2"></i>é€€å‡ºç™»å½•
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div id="mainContent" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
        <!-- æ•°æ®æ¦‚è§ˆå¡ç‰‡ -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up">
            <div class="bg-white rounded-xl p-6 card-shadow hover-lift">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">æœ¬æœˆæ€»æ”¶ç›Š</p>
                        <p class="text-2xl font-bold text-gray-900">Â¥128,540</p>
                        <p class="text-xs text-success flex items-center mt-1">
                            <i class="fa fa-arrow-up mr-1"></i>+15.2% è¾ƒä¸Šæœˆ
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                        <i class="fa fa-money text-primary text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow hover-lift">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">ç®¡ç†è´¦å·æ•°</p>
                        <p class="text-2xl font-bold text-gray-900">156</p>
                        <p class="text-xs text-success flex items-center mt-1">
                            <i class="fa fa-arrow-up mr-1"></i>+8 æœ¬æœˆæ–°å¢
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center">
                        <i class="fa fa-users text-secondary text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow hover-lift">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">å·²åŒæ­¥å¹³å°</p>
                        <p class="text-2xl font-bold text-gray-900">8</p>
                        <p class="text-xs text-gray-500">äº¬ä¸œÂ·æ·˜å®Â·å¾—ç‰©Â·æ‹¼å¤šå¤š</p>
                    </div>
                    <div class="w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center">
                        <i class="fa fa-shopping-cart text-accent text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow hover-lift">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">å›¢é˜Ÿæ•°é‡</p>
                        <p class="text-2xl font-bold text-gray-900">6</p>
                        <p class="text-xs text-warning flex items-center mt-1">
                            <i class="fa fa-users mr-1"></i>åä¸œÂ·åå—Â·ååŒ—
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-warning/10 rounded-lg flex items-center justify-center">
                        <i class="fa fa-sitemap text-warning text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŠŸèƒ½å¯¼èˆªé€‰é¡¹å¡ -->
        <div class="bg-white rounded-xl shadow-lg mb-8 animate-fade-in">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8">
                    <button onclick="switchTab('search')" id="tab-search" class="tab-btn active py-4 px-1 border-b-2 border-primary text-primary font-medium">
                        <i class="fa fa-search mr-2"></i>è´¦å·æŸ¥è¯¢
                    </button>
                    <button onclick="switchTab('upload')" id="tab-upload" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        <i class="fa fa-upload mr-2"></i>è´¦å•ä¸Šä¼ 
                    </button>
                    <button onclick="switchTab('team')" id="tab-team" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        <i class="fa fa-users mr-2"></i>å›¢é˜Ÿç®¡ç†
                    </button>
                    <button onclick="switchTab('analysis')" id="tab-analysis" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                        <i class="fa fa-bar-chart mr-2"></i>æ•°æ®åˆ†æ
                    </button>
                    <button onclick="switchTab('admin')" id="tab-admin" class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hidden">
                        <i class="fa fa-cog mr-2"></i>ç³»ç»Ÿç®¡ç†
                    </button>
                </nav>
            </div>

            <!-- è´¦å·æŸ¥è¯¢é€‰é¡¹å¡å†…å®¹ -->
            <div id="content-search" class="tab-content p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- æŸ¥è¯¢æ¡ä»¶ -->
                    <div class="lg:col-span-1">
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-filter mr-2 text-primary"></i>æŸ¥è¯¢æ¡ä»¶
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æŸ¥è¯¢æ–¹å¼</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center">
                                            <input type="radio" name="searchType" value="account" checked class="text-primary focus:ring-primary">
                                            <span class="ml-2 text-sm text-gray-700">å¹³å°è´¦å·</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="radio" name="searchType" value="nickname" class="text-primary focus:ring-primary">
                                            <span class="ml-2 text-sm text-gray-700">å¡«å†™äººæ˜µç§°</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">è´¦å·ä¿¡æ¯</label>
                                    <input type="text" id="searchInput" placeholder="è¯·è¾“å…¥è´¦å·æˆ–æ˜µç§°" 
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å¹³å°</label>
                                    <select id="platformSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                        <option value="">å…¨éƒ¨å¹³å°</option>
                                        <!-- åŠ¨æ€ç”Ÿæˆå¹³å°é€‰é¡¹ -->
                                    </select>
                                </div>
                                
                                <div id="teamFilterSection">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æ‰€å±å›¢é˜Ÿ</label>
                                    <select id="teamSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                        <option value="">å…¨éƒ¨å›¢é˜Ÿ</option>
                                        <option value="east">åä¸œå›¢é˜Ÿ</option>
                                        <option value="south">åå—å›¢é˜Ÿ</option>
                                        <option value="north">ååŒ—å›¢é˜Ÿ</option>
                                        <option value="west">åè¥¿å›¢é˜Ÿ</option>
                                        <option value="northeast">ä¸œåŒ—å›¢é˜Ÿ</option>
                                        <option value="central">åä¸­å›¢é˜Ÿ</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æŸ¥è¯¢æœˆä»½</label>
                                    <input type="month" id="monthSelect" 
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                </div>
                                
                                <button onclick="searchData()" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    <i class="fa fa-search mr-2"></i>å¼€å§‹æŸ¥è¯¢
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æŸ¥è¯¢ç»“æœ -->
                    <div class="lg:col-span-2">
                        <div id="searchResults" class="space-y-6">
                            <!-- è´¦å·ä¿¡æ¯å¡ç‰‡ -->
                            <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                                <div class="bg-gradient-to-r from-primary to-secondary p-6">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-4">
                                            <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center">
                                                <i class="fa fa-bullseye text-white text-2xl"></i>
                                            </div>
                                            <div>
                                                <h3 class="text-xl font-bold text-white">å¼ ä¸‰</h3>
                                                <p class="text-white/90">å¡«å†™äººæ˜µç§°ï¼šç”µå•†è¾¾äººå¼ ä¸‰</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-white/90 text-sm">æ‰€å±å›¢é˜Ÿ</p>
                                            <p class="text-white font-semibold">åä¸œå›¢é˜ŸA</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- å¹³å°è´¦å·åˆ—è¡¨ -->
                                <div class="p-6">
                                    <h4 class="text-lg font-semibold text-gray-900 mb-4">å…³è”å¹³å°è´¦å·</h4>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer">
                                            <div class="flex items-center justify-between mb-2">
                                                <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                                <span class="text-xs text-gray-500">æ´»è·ƒ</span>
                                            </div>
                                            <p class="text-sm font-medium text-gray-900">jd_zhang3_shop</p>
                                            <p class="text-xs text-gray-500">ç»‘å®šæ—¶é—´ï¼š2024-01-15</p>
                                        </div>
                                        
                                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer">
                                            <div class="flex items-center justify-between mb-2">
                                                <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                                <span class="text-xs text-gray-500">æ´»è·ƒ</span>
                                            </div>
                                            <p class="text-sm font-medium text-gray-900">zhang3_taobao</p>
                                            <p class="text-xs text-gray-500">ç»‘å®šæ—¶é—´ï¼š2024-02-20</p>
                                        </div>
                                        
                                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer">
                                            <div class="flex items-center justify-between mb-2">
                                                <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                                <span class="text-xs text-gray-500">æ´»è·ƒ</span>
                                            </div>
                                            <p class="text-sm font-medium text-gray-900">guangguang_zhang3</p>
                                            <p class="text-xs text-gray-500">ID: 123456789 | ç»‘å®šæ—¶é—´ï¼š2024-03-10</p>
                                        </div>
                                        
                                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer">
                                            <div class="flex items-center justify-between mb-2">
                                                <span class="platform-badge bg-blue-100 text-blue-800">å¾—ç‰©</span>
                                                <span class="text-xs text-gray-500">æ´»è·ƒ</span>
                                            </div>
                                            <p class="text-sm font-medium text-gray-900">zhang3_dewu</p>
                                            <p class="text-xs text-gray-500">ç»‘å®šæ—¶é—´ï¼š2024-04-05</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- æ”¶ç›Šç»Ÿè®¡ -->
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <h4 class="text-lg font-semibold text-gray-900 mb-4">
                                    <i class="fa fa-line-chart mr-2 text-primary"></i>2024å¹´10æœˆæ”¶ç›Šç»Ÿè®¡
                                </h4>
                                
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div class="text-center p-4 bg-gray-50 rounded-lg">
                                        <p class="text-2xl font-bold text-primary">Â¥28,540</p>
                                        <p class="text-sm text-gray-600">æ€»æ”¶ç›Š</p>
                                    </div>
                                    <div class="text-center p-4 bg-gray-50 rounded-lg">
                                        <p class="text-2xl font-bold text-success">Â¥3,240</p>
                                        <p class="text-sm text-gray-600">å‡€åˆ©æ¶¦</p>
                                    </div>
                                    <div class="text-center p-4 bg-gray-50 rounded-lg">
                                        <p class="text-2xl font-bold text-warning">11.35%</p>
                                        <p class="text-sm text-gray-600">åˆ©æ¶¦ç‡</p>
                                    </div>
                                </div>
                                
                                <!-- å¹³å°æ”¶ç›Šæ˜ç»† -->
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                            <span class="text-sm font-medium text-gray-900">jd_zhang3_shop</span>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-bold text-gray-900">Â¥15,200</p>
                                            <p class="text-xs text-gray-500">5ç¬”è®¢å•</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                            <span class="text-sm font-medium text-gray-900">zhang3_taobao</span>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-bold text-gray-900">Â¥8,800</p>
                                            <p class="text-xs text-gray-500">8ç¬”è®¢å•</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                            <span class="text-sm font-medium text-gray-900">guangguang_zhang3</span>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-bold text-gray-900">Â¥3,200</p>
                                            <p class="text-xs text-gray-500">6ç¬”è®¢å•</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <span class="platform-badge bg-blue-100 text-blue-800">å¾—ç‰©</span>
                                            <span class="text-sm font-medium text-gray-900">zhang3_dewu</span>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-bold text-gray-900">Â¥1,340</p>
                                            <p class="text-xs text-gray-500">3ç¬”è®¢å•</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- è¯¦ç»†è®¢å•åˆ—è¡¨ -->
                            <div class="bg-white rounded-lg border border-gray-200">
                                <div class="p-6 border-b border-gray-200">
                                    <h4 class="text-lg font-semibold text-gray-900">
                                        <i class="fa fa-list mr-2 text-primary"></i>è¯¦ç»†è®¢å•åˆ—è¡¨
                                    </h4>
                                </div>
                                
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è®¢å•å·</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å•†å“</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">é‡‘é¢</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ—¶é—´</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">çŠ¶æ€</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">JD234567890123</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">iPhone 15 Pro</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥8,999</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-20</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">å·²å®Œæˆ</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">TB123456789012</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">åä¸ºMate 60</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥6,999</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-19</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">å·²å®Œæˆ</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">TBGG9876543210</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Nike Air Max</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥1,299</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-18</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">å¤„ç†ä¸­</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">DW345678901234</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="platform-badge bg-blue-100 text-blue-800">å¾—ç‰©</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Air Jordan 1</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥1,399</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-17</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">å·²å®Œæˆ</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="p-4 border-t border-gray-200 flex items-center justify-between">
                                    <span class="text-sm text-gray-500">æ˜¾ç¤º 1-4 æ¡ï¼Œå…± 24 æ¡</span>
                                    <div class="flex space-x-2">
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">ä¸Šä¸€é¡µ</button>
                                        <button class="px-3 py-1 border border-primary bg-primary text-white rounded text-sm">1</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">2</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">3</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">ä¸‹ä¸€é¡µ</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è´¦å•ä¸Šä¼ é€‰é¡¹å¡å†…å®¹ -->
            <div id="content-upload" class="tab-content p-6 hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- ä¸Šä¼ åŒºåŸŸ -->
                    <div class="space-y-6">
                        <div class="bg-white rounded-lg border-2 border-dashed border-gray-300 p-8 text-center hover:border-primary transition-colors">
                            <div class="space-y-4">
                                <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto">
                                    <i class="fa fa-cloud-upload text-primary text-2xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900">æ‹–æ‹½è´¦å•æ–‡ä»¶åˆ°æ­¤å¤„</h3>
                                <p class="text-sm text-gray-600">æ”¯æŒ Excelã€CSV æ ¼å¼æ–‡ä»¶</p>
                                <button onclick="document.getElementById('fileInput').click()" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    <i class="fa fa-browse mr-2"></i>é€‰æ‹©æ–‡ä»¶
                                </button>
                                <input type="file" id="fileInput" multiple accept=".xlsx,.xls,.csv" class="hidden" onchange="handleFileUpload(event)">
                            </div>
                        </div>
                        
                        <!-- ä¸Šä¼ è®¾ç½® -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-cog mr-2 text-primary"></i>ä¸Šä¼ è®¾ç½®
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æ‰€å±å›¢é˜Ÿ <span class="text-danger">*</span></label>
                                    <select id="uploadTeamSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                                        <option value="">è¯·é€‰æ‹©å›¢é˜Ÿ</option>
                                        <option value="east">åä¸œå›¢é˜Ÿ</option>
                                        <option value="south">åå—å›¢é˜Ÿ</option>
                                        <option value="north">ååŒ—å›¢é˜Ÿ</option>
                                        <option value="west">åè¥¿å›¢é˜Ÿ</option>
                                        <option value="northeast">ä¸œåŒ—å›¢é˜Ÿ</option>
                                        <option value="central">åä¸­å›¢é˜Ÿ</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å¹³å° <span class="text-danger">*</span></label>
                                    <select id="uploadPlatformSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                                        <option value="">è¯·é€‰æ‹©å¹³å°</option>
                                        <!-- åŠ¨æ€ç”Ÿæˆå¹³å°é€‰é¡¹ -->
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æ•°æ®ç±»å‹</label>
                                    <select id="dataTypeSelect" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                        <option value="bill">è´¦å•æ•°æ®</option>
                                        <option value="collection">æ”¶é›†è¡¨æ•°æ®</option>
                                        <option value="account">è´¦å·ä¿¡æ¯</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æ•°æ®æœˆä»½</label>
                                    <input type="month" id="dataMonthSelect" 
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                </div>
                                
                                <div class="flex items-center">
                                    <input type="checkbox" id="overrideData" class="text-primary focus:ring-primary">
                                    <label for="overrideData" class="ml-2 text-sm text-gray-700">è¦†ç›–å·²æœ‰æ•°æ®</label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å¹³å°æ¨¡æ¿ä¸‹è½½ -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-download mr-2 text-primary"></i>å¹³å°æ¨¡æ¿ä¸‹è½½
                            </h3>
                            <div id="platformTemplates" class="space-y-3">
                                <!-- åŠ¨æ€ç”Ÿæˆå¹³å°æ¨¡æ¿ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ä¸Šä¼ å†å² -->
                    <div class="bg-white rounded-lg border border-gray-200">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-900">
                                <i class="fa fa-history mr-2 text-primary"></i>ä¸Šä¼ å†å²
                            </h3>
                        </div>
                        
                        <div class="divide-y divide-gray-200">
                            <div class="p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-900">äº¬ä¸œè´¦å•_202410.xlsx</span>
                                    <span class="text-xs text-success">å·²å®Œæˆ</span>
                                </div>
                                <div class="flex items-center justify-between text-xs text-gray-500 mb-2">
                                    <span>åä¸œå›¢é˜Ÿ</span>
                                    <span>è´¦å•æ•°æ®</span>
                                    <span>2024-10-20</span>
                                </div>
                                <div class="text-xs text-gray-500">
                                    <span>ä¸Šä¼ è€…ï¼šå¼ ä¸‰</span> | <span>156æ¡è®°å½•</span>
                                </div>
                            </div>
                            
                            <div class="p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-900">æ·˜å®é€›é€›_202410.csv</span>
                                    <span class="text-xs text-success">å·²å®Œæˆ</span>
                                </div>
                                <div class="flex items-center justify-between text-xs text-gray-500 mb-2">
                                    <span>åå—å›¢é˜Ÿ</span>
                                    <span>è´¦å•æ•°æ®</span>
                                    <span>2024-10-20</span>
                                </div>
                                <div class="text-xs text-gray-500">
                                    <span>ä¸Šä¼ è€…ï¼šæå››</span> | <span>234æ¡è®°å½•</span>
                                </div>
                            </div>
                            
                            <div class="p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-900">å¾—ç‰©è´¦å•_202410.xlsx</span>
                                    <span class="text-xs text-warning">å¤„ç†ä¸­</span>
                                </div>
                                <div class="flex items-center justify-between text-xs text-gray-500 mb-2">
                                    <span>ååŒ—å›¢é˜Ÿ</span>
                                    <span>è´¦å•æ•°æ®</span>
                                    <span>2024-10-20</span>
                                </div>
                                <div class="text-xs text-gray-500">
                                    <span>ä¸Šä¼ è€…ï¼šç‹äº”</span> | <span>å¤„ç†è¿›åº¦: 67%</span>
                                </div>
                            </div>
                            
                            <div class="p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-900">å›¢é˜Ÿæ”¶é›†è¡¨_10æœˆ.xlsx</span>
                                    <span class="text-xs text-success">å·²å®Œæˆ</span>
                                </div>
                                <div class="flex items-center justify-between text-xs text-gray-500 mb-2">
                                    <span>åä¸œå›¢é˜Ÿ</span>
                                    <span>æ”¶é›†è¡¨æ•°æ®</span>
                                    <span>2024-10-19</span>
                                </div>
                                <div class="text-xs text-gray-500">
                                    <span>ä¸Šä¼ è€…ï¼šèµµå…­</span> | <span>45æ¡è®°å½•</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å›¢é˜Ÿç®¡ç†é€‰é¡¹å¡å†…å®¹ -->
            <div id="content-team" class="tab-content p-6 hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- å›¢é˜Ÿç»“æ„ -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-sitemap mr-2 text-primary"></i>å›¢é˜Ÿç»“æ„
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="relative">
                                    <div class="flex items-center space-x-3 p-3 bg-primary/10 rounded-lg border-l-4 border-primary">
                                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                                            <i class="fa fa-bullseye text-white text-sm"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">å¤§éƒ½ç£</p>
                                            <p class="text-xs text-gray-500">æ€»å›¢é•¿</p>
                                        </div>
                                    </div>
                                    
                                    <!-- ä¸‹çº§å›¢é˜Ÿ -->
                                    <div class="ml-6 mt-2 space-y-2">
                                        <div class="relative">
                                            <div class="absolute left-0 top-4 w-3 h-3 bg-gray-300 rounded-full transform -translate-x-1/2"></div>
                                            <div class="absolute left-0 top-5 w-0.5 h-12 bg-gray-300 transform -translate-x-1/2"></div>
                                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                                <div class="w-6 h-6 bg-secondary rounded-full flex items-center justify-center">
                                                    <i class="fa fa-bullseye text-white text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="text-xs font-medium text-gray-900">åä¸œå›¢é•¿</p>
                                                    <p class="text-xs text-gray-500">15äºº</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="relative">
                                            <div class="absolute left-0 top-4 w-3 h-3 bg-gray-300 rounded-full transform -translate-x-1/2"></div>
                                            <div class="absolute left-0 top-5 w-0.5 h-12 bg-gray-300 transform -translate-x-1/2"></div>
                                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                                <div class="w-6 h-6 bg-accent rounded-full flex items-center justify-center">
                                                    <i class="fa fa-bullseye text-white text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="text-xs font-medium text-gray-900">åå—å›¢é•¿</p>
                                                    <p class="text-xs text-gray-500">12äºº</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="relative">
                                            <div class="absolute left-0 top-4 w-3 h-3 bg-gray-300 rounded-full transform -translate-x-1/2"></div>
                                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                                <div class="w-6 h-6 bg-warning rounded-full flex items-center justify-center">
                                                    <i class="fa fa-bullseye text-white text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="text-xs font-medium text-gray-900">ååŒ—å›¢é•¿</p>
                                                    <p class="text-xs text-gray-500">15äºº</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å›¢é˜Ÿç»Ÿè®¡ -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6 mt-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">å›¢é˜Ÿç»Ÿè®¡</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">æ€»æˆå‘˜æ•°</span>
                                    <span class="text-lg font-bold text-gray-900">42</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">å›¢é•¿æ•°</span>
                                    <span class="text-lg font-bold text-gray-900">6</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">æœ¬æœˆæ–°å¢</span>
                                    <span class="text-lg font-bold text-success">5</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">æ´»è·ƒæˆå‘˜</span>
                                    <span class="text-lg font-bold text-primary">38</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å›¢é˜Ÿæ”¶ç›Šç»Ÿè®¡ -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-bar-chart mr-2 text-primary"></i>å›¢é˜Ÿæ”¶ç›Šç»Ÿè®¡
                            </h3>
                            
                            <!-- å›¢é˜Ÿç­›é€‰ -->
                            <div class="flex items-center space-x-4 mb-6">
                                <select id="teamFilterSelect" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option value="">å…¨éƒ¨å›¢é˜Ÿ</option>
                                    <option value="east">åä¸œå›¢é˜Ÿ</option>
                                    <option value="south">åå—å›¢é˜Ÿ</option>
                                    <option value="north">ååŒ—å›¢é˜Ÿ</option>
                                    <option value="west">åè¥¿å›¢é˜Ÿ</option>
                                    <option value="northeast">ä¸œåŒ—å›¢é˜Ÿ</option>
                                    <option value="central">åä¸­å›¢é˜Ÿ</option>
                                </select>
                                <select class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option>æœ¬æœˆ</option>
                                    <option>ä¸Šæœˆ</option>
                                    <option>æœ¬å­£åº¦</option>
                                    <option>æœ¬å¹´åº¦</option>
                                </select>
                                <button onclick="exportTeamData()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    <i class="fa fa-download mr-2"></i>å¯¼å‡ºæŠ¥è¡¨
                                </button>
                            </div>
                            
                            <!-- æ”¶ç›Šå›¾è¡¨ -->
                            <div class="mb-6">
                                <canvas id="teamChart" width="400" height="200"></canvas>
                            </div>
                            
                            <!-- å›¢é˜Ÿæˆå‘˜åˆ—è¡¨ -->
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
                                            <i class="fa fa-bullseye text-white"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">åä¸œå›¢é˜Ÿ (15äºº)</p>
                                            <p class="text-xs text-gray-500">å›¢é•¿ï¼šå¼ ç»ç†</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-lg font-bold text-primary">Â¥89,540</p>
                                        <p class="text-xs text-success flex items-center justify-end">
                                            <i class="fa fa-arrow-up mr-1"></i>+12.5%
                                        </p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center">
                                            <i class="fa fa-bullseye text-white"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">åå—å›¢é˜Ÿ (12äºº)</p>
                                            <p class="text-xs text-gray-500">å›¢é•¿ï¼šç‹ç»ç†</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-lg font-bold text-primary">Â¥67,230</p>
                                        <p class="text-xs text-success flex items-center justify-end">
                                            <i class="fa fa-arrow-up mr-1"></i>+8.3%
                                        </p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-10 h-10 bg-warning rounded-full flex items-center justify-center">
                                            <i class="fa fa-bullseye text-white"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">ååŒ—å›¢é˜Ÿ (15äºº)</p>
                                            <p class="text-xs text-gray-500">å›¢é•¿ï¼šæç»ç†</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-lg font-bold text-primary">Â¥72,890</p>
                                        <p class="text-xs text-danger flex items-center justify-end">
                                            <i class="fa fa-arrow-down mr-1"></i>-2.1%
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®åˆ†æé€‰é¡¹å¡å†…å®¹ -->
            <div id="content-analysis" class="tab-content p-6 hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <!-- å¹³å°æ”¶ç›Šå¯¹æ¯” -->
                    <div class="bg-white rounded-lg border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">
                            <i class="fa fa-pie-chart mr-2 text-primary"></i>å¹³å°æ”¶ç›Šåˆ†å¸ƒ
                        </h3>
                        <canvas id="platformChart" width="300" height="300"></canvas>
                    </div>
                    
                    <!-- æœˆåº¦è¶‹åŠ¿ -->
                    <div class="bg-white rounded-lg border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">
                            <i class="fa fa-line-chart mr-2 text-primary"></i>æœˆåº¦æ”¶ç›Šè¶‹åŠ¿
                        </h3>
                        <canvas id="monthlyChart" width="300" height="300"></canvas>
                    </div>
                </div>
                
                <!-- å›¢é˜Ÿæ”¶ç›Šå¯¹æ¯” -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">
                        <i class="fa fa-bar-chart mr-2 text-primary"></i>å›¢é˜Ÿæ”¶ç›Šå¯¹æ¯”
                    </h3>
                    <canvas id="teamComparisonChart" width="800" height="400"></canvas>
                </div>
                
                <!-- è¯¦ç»†æ•°æ®è¡¨æ ¼ -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900">
                            <i class="fa fa-table mr-2 text-primary"></i>è¯¦ç»†æ•°æ®åˆ†æ
                        </h3>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è´¦å·æ•°</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ€»æ”¶ç›Š</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è®¢å•æ•°</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å‡å®¢å•ä»·</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç¯æ¯”å¢é•¿</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">45</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥456,890</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1,234</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Â¥369</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-xs text-success">+15.2%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">56</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥324,560</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2,156</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Â¥150</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-xs text-success">+8.7%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">32</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥198,760</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">890</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Â¥223</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-xs text-success">+28.5%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="platform-badge bg-blue-100 text-blue-800">å¾—ç‰©</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">28</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥189,230</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">456</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Â¥415</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-xs text-success">+23.4%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="platform-badge bg-yellow-100 text-yellow-800">æ‹¼å¤šå¤š</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">32</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥156,780</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1,890</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Â¥83</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="text-xs text-danger">-2.1%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ç³»ç»Ÿç®¡ç†é€‰é¡¹å¡å†…å®¹ -->
            <div id="content-admin" class="tab-content p-6 hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- ç®¡ç†èœå• -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                <i class="fa fa-cog mr-2 text-primary"></i>ç³»ç»Ÿç®¡ç†
                            </h3>
                            
                            <div class="space-y-2">
                                <button onclick="showAdminPage('user-management')" class="w-full text-left px-4 py-3 bg-primary/10 text-primary rounded-lg font-medium">
                                    <i class="fa fa-users mr-3"></i>ç”¨æˆ·ç®¡ç†
                                </button>
                                <button onclick="showAdminPage('platform-management')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-shopping-cart mr-3"></i>å¹³å°ç®¡ç†
                                </button>
                                <button onclick="showAdminPage('commission-management')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-percent mr-3"></i>åˆ†æˆç®¡ç†
                                </button>
                                <button onclick="showAdminPage('team-management')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-sitemap mr-3"></i>å›¢é˜Ÿç®¡ç†
                                </button>
                                <button onclick="showAdminPage('system-settings')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-bullseye mr-3"></i>ç³»ç»Ÿè®¾ç½®
                                </button>
                                <button onclick="showAdminPage('operation-log')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-history mr-3"></i>æ“ä½œæ—¥å¿—
                                </button>
                                <button onclick="showAdminPage('data-backup')" class="w-full text-left px-4 py-3 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors">
                                    <i class="fa fa-database mr-3"></i>æ•°æ®å¤‡ä»½
                                </button>
                            </div>
                        </div>
                        
                        <!-- ç³»ç»Ÿä¿¡æ¯ -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6 mt-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">ç³»ç»Ÿä¿¡æ¯</h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">ç³»ç»Ÿç‰ˆæœ¬</span>
                                    <span class="text-gray-900">v2.2.0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">æ•°æ®åº“ç‰ˆæœ¬</span>
                                    <span class="text-gray-900">SQLite 3.41.2</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">æœ€åæ›´æ–°</span>
                                    <span class="text-gray-900">2024-10-21</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">åœ¨çº¿ç”¨æˆ·</span>
                                    <span class="text-green-600">3äºº</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ç®¡ç†é¡µé¢å†…å®¹ -->
                    <div class="lg:col-span-2">
                        <!-- ç”¨æˆ·ç®¡ç†é¡µé¢ -->
                        <div id="admin-user-management" class="admin-page">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900">
                                        <i class="fa fa-users mr-2 text-primary"></i>ç”¨æˆ·ç®¡ç†
                                    </h3>
                                    <button onclick="showAddUserModal()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                        <i class="fa fa-plus mr-2"></i>æ·»åŠ ç”¨æˆ·
                                    </button>
                                </div>
                                
                                <!-- ç”¨æˆ·æœç´¢ -->
                                <div class="flex items-center space-x-4 mb-6">
                                    <input type="text" placeholder="æœç´¢ç”¨æˆ·åæˆ–æ˜µç§°" 
                                           class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <select class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                        <option value="">æ‰€æœ‰è§’è‰²</option>
                                        <option value="super_admin">è¶…çº§ç®¡ç†å‘˜</option>
                                        <option value="admin">ç®¡ç†å‘˜</option>
                                        <option value="leader">å›¢é•¿</option>
                                        <option value="user">æ™®é€šç”¨æˆ·</option>
                                    </select>
                                    <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                        <i class="fa fa-search mr-2"></i>æœç´¢
                                    </button>
                                </div>
                                
                                <!-- ç”¨æˆ·åˆ—è¡¨ -->
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç”¨æˆ·å</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ˜µç§°</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è§’è‰²</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ‰€å±å›¢é˜Ÿ</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">çŠ¶æ€</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æœ€åç™»å½•</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ“ä½œ</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">admin</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">è¶…çº§ç®¡ç†å‘˜</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="role-badge bg-red-100 text-red-800">è¶…çº§ç®¡ç†å‘˜</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æ‰€æœ‰å›¢é˜Ÿ</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">æ´»è·ƒ</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-20 16:30</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                    <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                                                    <button class="text-gray-400 hover:text-gray-600">ç¦ç”¨</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">leader</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">åä¸œå›¢é˜Ÿé•¿</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="role-badge bg-blue-100 text-blue-800">å›¢é•¿</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">åä¸œå›¢é˜Ÿ</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">æ´»è·ƒ</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-20 15:45</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                    <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                                                    <button class="text-gray-400 hover:text-gray-600">ç¦ç”¨</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">user1</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">å¼ ä¸‰</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="role-badge bg-gray-100 text-gray-800">æ™®é€šç”¨æˆ·</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">åä¸œå›¢é˜Ÿ</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">æ´»è·ƒ</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-20 14:20</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                    <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                                                    <button class="text-danger hover:text-danger/80">ç¦ç”¨</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">user2</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æå››</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="role-badge bg-gray-100 text-gray-800">æ™®é€šç”¨æˆ·</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">åå—å›¢é˜Ÿ</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">æœªæ¿€æ´»</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-19 10:15</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                    <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                                                    <button class="text-primary hover:text-primary/80">æ¿€æ´»</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- åˆ†é¡µ -->
                                <div class="flex items-center justify-between mt-6">
                                    <span class="text-sm text-gray-500">æ˜¾ç¤º 1-4 æ¡ï¼Œå…± 42 æ¡</span>
                                    <div class="flex space-x-2">
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">ä¸Šä¸€é¡µ</button>
                                        <button class="px-3 py-1 border border-primary bg-primary text-white rounded text-sm">1</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">2</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">3</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-500 hover:bg-gray-50">ä¸‹ä¸€é¡µ</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å¹³å°ç®¡ç†é¡µé¢ -->
                        <div id="admin-platform-management" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900">
                                        <i class="fa fa-shopping-cart mr-2 text-primary"></i>å¹³å°ç®¡ç†
                                    </h3>
                                    <button onclick="showAddPlatformModal()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                        <i class="fa fa-plus mr-2"></i>æ·»åŠ å¹³å°
                                    </button>
                                </div>
                                
                                <!-- å¹³å°åˆ—è¡¨ -->
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°åç§°</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°æ ‡è¯†</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">çŠ¶æ€</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è´¦å·æ•°</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">åˆ›å»ºæ—¶é—´</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ“ä½œ</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200" id="platformList">
                                            <!-- åŠ¨æ€ç”Ÿæˆå¹³å°åˆ—è¡¨ -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- åˆ†æˆç®¡ç†é¡µé¢ -->
                        <div id="admin-commission-management" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900">
                                        <i class="fa fa-percent mr-2 text-primary"></i>åˆ†æˆæ¯”ä¾‹ç®¡ç†
                                    </h3>
                                    <button onclick="showAddCommissionModal()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                        <i class="fa fa-plus mr-2"></i>æ·»åŠ åˆ†æˆè§„åˆ™
                                    </button>
                                </div>
                                
                                <!-- åˆ†æˆè§„åˆ™åˆ—è¡¨ -->
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å›¢é•¿</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å›¢é˜Ÿ</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">åˆ†æˆæ¯”ä¾‹</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç”Ÿæ•ˆæ—¶é—´</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ“ä½œ</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200" id="commissionList">
                                            <!-- åŠ¨æ€ç”Ÿæˆåˆ†æˆè§„åˆ™åˆ—è¡¨ -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å…¶ä»–ç®¡ç†é¡µé¢ -->
                        <div id="admin-team-management" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                    <i class="fa fa-sitemap mr-2 text-primary"></i>å›¢é˜Ÿç®¡ç†
                                </h3>
                                <p class="text-gray-600">å›¢é˜Ÿç®¡ç†åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                            </div>
                        </div>
                        
                        <div id="admin-system-settings" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                    <i class="fa fa-bullseye mr-2 text-primary"></i>ç³»ç»Ÿè®¾ç½®
                                </h3>
                                <p class="text-gray-600">ç³»ç»Ÿè®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                            </div>
                        </div>
                        
                        <div id="admin-operation-log" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                    <i class="fa fa-history mr-2 text-primary"></i>æ“ä½œæ—¥å¿—
                                </h3>
                                <p class="text-gray-600">æ“ä½œæ—¥å¿—åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                            </div>
                        </div>
                        
                        <div id="admin-data-backup" class="admin-page hidden">
                            <div class="bg-white rounded-lg border border-gray-200 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                    <i class="fa fa-database mr-2 text-primary"></i>æ•°æ®å¤‡ä»½
                                </h3>
                                <p class="text-gray-600">æ•°æ®å¤‡ä»½åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer id="mainFooter" class="bg-white border-t border-gray-200 mt-16 hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex items-center justify-between">
                <div class="text-sm text-gray-500">
                    Â© 2024 å¤§éƒ½ç£å‰¯ä¸šå¹³å°æ•°æ®æŸ¥è¯¢ç³»ç»Ÿ. ç‰ˆæƒæ‰€æœ‰.
                </div>
                <div class="flex items-center space-x-4 text-sm text-gray-500">
                    <span>æ•°æ®åŒæ­¥æ—¶é—´: 2024-10-21 16:30</span>
                    <span>ç³»ç»Ÿç‰ˆæœ¬: v2.2.0</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- æ¨¡æ€æ¡† -->
    <!-- æ¶ˆæ¯ç®¡ç†æ¨¡æ€æ¡† -->
    <div id="notificationModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">
                    <i class="fa fa-bullhorn mr-2 text-primary"></i>æ¶ˆæ¯ç®¡ç†
                </h3>
                <button onclick="toggleNotificationManager()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ¶ˆæ¯å†…å®¹</label>
                    <input type="text" id="notificationText" placeholder="è¯·è¾“å…¥æ¶ˆæ¯å†…å®¹" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ¶ˆæ¯ç±»å‹</label>
                    <select id="notificationType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="info">ğŸ“¢ é€šçŸ¥</option>
                        <option value="announcement">ğŸ“£ å…¬å‘Š</option>
                        <option value="warning">âš ï¸ è­¦å‘Š</option>
                        <option value="celebration">ğŸ‰ åº†ç¥</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ˜¾ç¤ºæ—¶é•¿</label>
                    <select id="notificationDuration" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="1">1å¤©</option>
                        <option value="3">3å¤©</option>
                        <option value="7" selected>7å¤©</option>
                        <option value="30">30å¤©</option>
                        <option value="0">æ°¸ä¹…æ˜¾ç¤º</option>
                    </select>
                </div>
            </div>
            
            <div class="flex space-x-3">
                <button onclick="addNotification()" class="flex-1 bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fa fa-plus mr-2"></i>æ·»åŠ æ¶ˆæ¯
                </button>
                <button onclick="clearAllNotifications()" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                    <i class="fa fa-trash mr-1"></i>æ¸…ç©º
                </button>
            </div>
            
            <div class="mt-6">
                <h4 class="text-sm font-medium text-gray-900 mb-3">å½“å‰æ¶ˆæ¯åˆ—è¡¨</h4>
                <div id="notificationList" class="space-y-2">
                    <div class="flex items-center justify-between p-2 bg-gray-50 rounded">
                        <span class="text-sm text-gray-700">ğŸ“¢ ã€é‡è¦é€šçŸ¥ã€‘2024å¹´10æœˆæ”¶ç›Šç»Ÿè®¡å·²æ›´æ–°</span>
                        <button onclick="deleteNotification(this)" class="text-gray-400 hover:text-red-500">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between p-2 bg-gray-50 rounded">
                        <span class="text-sm text-gray-700">ğŸ“£ æ–°åŠŸèƒ½ä¸Šçº¿ï¼šæ”¯æŒæŠ–éŸ³å°åº—æ•°æ®å¯¼å…¥</span>
                        <button onclick="deleteNotification(this)" class="text-gray-400 hover:text-red-500">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¡«å†™äººéªŒè¯æ¨¡æ€æ¡† -->
    <div id="verificationModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-shield text-primary text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-900">èº«ä»½éªŒè¯</h3>
                <p class="text-sm text-gray-600">ä¸ºäº†ä¿æŠ¤æ•°æ®å®‰å…¨ï¼Œè¯·éªŒè¯æ‚¨æœ‰æƒæŸ¥çœ‹è¯¥å¡«å†™äººçš„ä¿¡æ¯</p>
            </div>
            
            <div id="platformSpecialHint" class="hidden p-3 bg-yellow-50 border border-yellow-200 rounded-lg mb-4">
                <div class="flex items-start space-x-2">
                    <i class="fa fa-exclamation-triangle text-yellow-600 mt-1"></i>
                    <div>
                        <p id="specialHintText" class="text-sm text-yellow-800"></p>
                    </div>
                </div>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¡«å†™äºº</label>
                    <div class="p-3 bg-gray-50 rounded-lg text-center">
                        <span id="verifyNickname" class="font-medium text-gray-900"></span>
                    </div>
                </div>
                
                <div id="dynamicVerificationForm" class="space-y-4">
                    <!-- åŠ¨æ€ç”Ÿæˆçš„éªŒè¯é€‰é¡¹ -->
                </div>
                
                <div id="verificationFeedback" class="hidden p-3 rounded-lg text-center text-sm"></div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="cancelVerification()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                    å–æ¶ˆ
                </button>
                <button onclick="submitVerification()" class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fa fa-check mr-2"></i>éªŒè¯
                </button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ ç”¨æˆ·æ¨¡æ€æ¡† -->
    <div id="addUserModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">
                    <i class="fa fa-plus mr-2 text-primary"></i>æ·»åŠ ç”¨æˆ·
                </h3>
                <button onclick="closeAddUserModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”¨æˆ·å <span class="text-danger">*</span></label>
                    <input type="text" id="newUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¯†ç  <span class="text-danger">*</span></label>
                    <input type="password" id="newPassword" placeholder="è¯·è¾“å…¥å¯†ç " 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç¡®è®¤å¯†ç  <span class="text-danger">*</span></label>
                    <input type="password" id="confirmPassword" placeholder="è¯·ç¡®è®¤å¯†ç " 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”¨æˆ·æ˜µç§° <span class="text-danger">*</span></label>
                    <input type="text" id="newNickname" placeholder="è¯·è¾“å…¥ç”¨æˆ·æ˜µç§°" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”¨æˆ·è§’è‰² <span class="text-danger">*</span></label>
                    <select id="newUserRole" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="">è¯·é€‰æ‹©è§’è‰²</option>
                        <option value="admin">ç®¡ç†å‘˜</option>
                        <option value="leader">å›¢é•¿</option>
                        <option value="user">æ™®é€šç”¨æˆ·</option>
                    </select>
                </div>
                
                <div id="teamSelection" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ‰€å±å›¢é˜Ÿ</label>
                    <select id="newUserTeam" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="">è¯·é€‰æ‹©å›¢é˜Ÿ</option>
                        <option value="east">åä¸œå›¢é˜Ÿ</option>
                        <option value="south">åå—å›¢é˜Ÿ</option>
                        <option value="north">ååŒ—å›¢é˜Ÿ</option>
                        <option value="west">åè¥¿å›¢é˜Ÿ</option>
                        <option value="northeast">ä¸œåŒ—å›¢é˜Ÿ</option>
                        <option value="central">åä¸­å›¢é˜Ÿ</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ‰‹æœºå·</label>
                    <input type="tel" id="newUserPhone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="closeAddUserModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                    å–æ¶ˆ
                </button>
                <button onclick="addNewUser()" class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fa fa-check mr-2"></i>åˆ›å»ºç”¨æˆ·
                </button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ å¹³å°æ¨¡æ€æ¡† -->
    <div id="addPlatformModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">
                    <i class="fa fa-plus mr-2 text-primary"></i>æ·»åŠ å¹³å°
                </h3>
                <button onclick="closeAddPlatformModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¹³å°åç§° <span class="text-danger">*</span></label>
                    <input type="text" id="newPlatformName" placeholder="è¯·è¾“å…¥å¹³å°åç§°ï¼ˆå¦‚ï¼šå°çº¢ä¹¦ï¼‰" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¹³å°æ ‡è¯† <span class="text-danger">*</span></label>
                    <input type="text" id="newPlatformCode" placeholder="è¯·è¾“å…¥å¹³å°æ ‡è¯†ï¼ˆå¦‚ï¼šxiaohongshuï¼‰" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¹³å°é¢œè‰²</label>
                    <div class="flex items-center space-x-2">
                        <input type="color" id="newPlatformColor" value="#165DFF" 
                               class="w-8 h-8 border border-gray-300 rounded cursor-pointer">
                        <input type="text" id="newPlatformColorText" value="#165DFF" 
                               class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ˜¯å¦å¯ç”¨</label>
                    <select id="newPlatformStatus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="active">å¯ç”¨</option>
                        <option value="inactive">ç¦ç”¨</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç‰¹æ®ŠéªŒè¯</label>
                    <select id="newPlatformVerification" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="normal">æ™®é€šéªŒè¯</option>
                        <option value="force_id">å¼ºåˆ¶IDéªŒè¯ï¼ˆå¦‚æ·˜å®é€›é€›ï¼‰</option>
                    </select>
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="closeAddPlatformModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                    å–æ¶ˆ
                </button>
                <button onclick="addNewPlatform()" class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fa fa-check mr-2"></i>åˆ›å»ºå¹³å°
                </button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ åˆ†æˆè§„åˆ™æ¨¡æ€æ¡† -->
    <div id="addCommissionModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">
                    <i class="fa fa-plus mr-2 text-primary"></i>æ·»åŠ åˆ†æˆè§„åˆ™
                </h3>
                <button onclick="closeAddCommissionModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å›¢é•¿ <span class="text-danger">*</span></label>
                    <select id="commissionLeader" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="">è¯·é€‰æ‹©å›¢é•¿</option>
                        <option value="leader">åä¸œå›¢é˜Ÿé•¿ (leader)</option>
                        <option value="leader2">åå—å›¢é˜Ÿé•¿ (leader2)</option>
                        <option value="leader3">ååŒ—å›¢é˜Ÿé•¿ (leader3)</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å¹³å° <span class="text-danger">*</span></label>
                    <select id="commissionPlatform" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="">è¯·é€‰æ‹©å¹³å°</option>
                        <!-- åŠ¨æ€ç”Ÿæˆå¹³å°é€‰é¡¹ -->
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">åˆ†æˆæ¯”ä¾‹ (%) <span class="text-danger">*</span></label>
                    <div class="flex items-center space-x-2">
                        <input type="number" id="commissionRate" min="0" max="100" step="0.1" value="5.0"
                               class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <span class="text-gray-600">%</span>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”Ÿæ•ˆæ—¥æœŸ</label>
                    <input type="date" id="commissionStartDate" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¤‡æ³¨</label>
                    <textarea id="commissionRemark" rows="2" placeholder="è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"
                              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></textarea>
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="closeAddCommissionModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                    å–æ¶ˆ
                </button>
                <button onclick="addNewCommission()" class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fa fa-check mr-2"></i>åˆ›å»ºè§„åˆ™
                </button>
            </div>
        </div>
    </div>

    <!-- å›¢é•¿æ”¶ç›Šåˆ†æˆè¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="leaderCommissionModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-lg font-semibold text-gray-900">
                    <i class="fa fa-percent mr-2 text-primary"></i>å›¢é•¿æ”¶ç›Šåˆ†æˆè¯¦æƒ…
                </h3>
                <div class="flex space-x-3">
                    <button onclick="exportLeaderCommission()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-success/90 transition-colors">
                        <i class="fa fa-download mr-2"></i>å¯¼å‡ºæŠ¥è¡¨
                    </button>
                    <button onclick="closeLeaderCommissionModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- æ”¶ç›Šæ¦‚è§ˆ -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="text-center p-4 bg-gradient-to-r from-primary to-secondary rounded-lg text-white">
                    <p class="text-lg font-bold">Â¥89,540</p>
                    <p class="text-sm opacity-90">ä¸‹å±æ€»æ”¶ç›Š</p>
                </div>
                <div class="text-center p-4 bg-gradient-to-r from-success to-secondary rounded-lg text-white">
                    <p class="text-lg font-bold">Â¥4,477</p>
                    <p class="text-sm opacity-90">å›¢é•¿åˆ†æˆ</p>
                </div>
                <div class="text-center p-4 bg-gradient-to-r from-accent to-primary rounded-lg text-white">
                    <p class="text-lg font-bold">5.0%</p>
                    <p class="text-sm opacity-90">å¹³å‡åˆ†æˆæ¯”ä¾‹</p>
                </div>
            </div>
            
            <!-- å¹³å°åˆ†æˆè¯¦æƒ… -->
            <div class="mb-6">
                <h4 class="text-lg font-semibold text-gray-900 mb-4">
                    <i class="fa fa-table mr-2 text-primary"></i>å¹³å°åˆ†æˆè¯¦æƒ…
                </h4>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ä¸‹å±æ€»æ”¶ç›Š</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">åˆ†æˆæ¯”ä¾‹</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å›¢é•¿åˆ†æˆ</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è®¢å•æ•°</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥45,680</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="commission-badge">5.0%</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥2,284</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">123</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥28,920</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="commission-badge">4.5%</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥1,301</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">234</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥14,940</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="commission-badge">6.0%</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥896</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">89</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ä¸‹å±æˆå‘˜æ”¶ç›Šæ˜ç»† -->
            <div>
                <h4 class="text-lg font-semibold text-gray-900 mb-4">
                    <i class="fa fa-users mr-2 text-primary"></i>ä¸‹å±æˆå‘˜æ”¶ç›Šæ˜ç»†
                </h4>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æˆå‘˜å§“å</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å¹³å°</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è´¦å·</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ”¶ç›Š</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">åˆ†æˆ</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è®¢å•æ•°</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">å¼ ä¸‰</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">jd_zhang3</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥15,200</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥760</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">45</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">å¼ ä¸‰</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-orange-100 text-orange-800">æ·˜å®</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">tb_zhang3</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥8,800</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥396</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">89</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æå››</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-red-100 text-red-800">äº¬ä¸œ</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">jd_lisi</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥12,800</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥640</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">32</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ç‹äº”</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="platform-badge bg-purple-100 text-purple-800">æ·˜å®é€›é€›</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">gg_wangwu</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Â¥14,940</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-primary">Â¥896</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">89</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentUser = null;
        let notifications = [
            "ğŸ“¢ ã€é‡è¦é€šçŸ¥ã€‘2024å¹´10æœˆæ”¶ç›Šç»Ÿè®¡å·²æ›´æ–°ï¼Œè¯·åŠæ—¶æŸ¥çœ‹",
            "ğŸ“£ æ–°åŠŸèƒ½ä¸Šçº¿ï¼šæ”¯æŒæŠ–éŸ³å°åº—æ•°æ®å¯¼å…¥ï¼Œæ¬¢è¿ä½“éªŒ",
            "âš ï¸ ç³»ç»Ÿå°†äº2024-10-25 23:00è¿›è¡Œç»´æŠ¤ï¼Œè¯·æå‰åšå¥½å‡†å¤‡",
            "ğŸ‰ æ­å–œåä¸œå›¢é˜Ÿæœ¬æœˆæ”¶ç›Šçªç ´100ä¸‡ï¼"
        ];
        
        // æ¨¡æ‹Ÿæ•°æ®åº“
        const userDatabase = {
            "admin": {
                username: "admin",
                password: "admin123",
                nickname: "è¶…çº§ç®¡ç†å‘˜",
                role: "super_admin",
                team: "all",
                phone: "13800138000",
                status: "active"
            },
            "leader": {
                username: "leader",
                password: "leader123",
                nickname: "åä¸œå›¢é˜Ÿé•¿",
                role: "leader",
                team: "east",
                phone: "13800138001",
                status: "active"
            },
            "user": {
                username: "user",
                password: "user123",
                nickname: "æ™®é€šç”¨æˆ·",
                role: "user",
                team: "east",
                phone: "13800138002",
                status: "active"
            }
        };
        
        // å¹³å°æ•°æ®åº“
        let platformDatabase = [
            { id: "jd", name: "äº¬ä¸œ", color: "#FF4D4F", status: "active", verification: "normal", accountCount: 45 },
            { id: "taobao", name: "æ·˜å®", color: "#FAAD14", status: "active", verification: "normal", accountCount: 56 },
            { id: "taobao_guangguang", name: "æ·˜å®é€›é€›", color: "#722ED1", status: "active", verification: "force_id", accountCount: 32 },
            { id: "dewu", name: "å¾—ç‰©", color: "#1890FF", status: "active", verification: "normal", accountCount: 28 },
            { id: "pdd", name: "æ‹¼å¤šå¤š", color: "#52C41A", status: "active", verification: "normal", accountCount: 32 },
            { id: "douyin", name: "æŠ–éŸ³", color: "#FE2C55", status: "active", verification: "normal", accountCount: 25 }
        ];
        
        // åˆ†æˆè§„åˆ™æ•°æ®åº“
        let commissionRules = [
            { leaderId: "leader", leaderName: "åä¸œå›¢é˜Ÿé•¿", team: "east", platformId: "jd", platformName: "äº¬ä¸œ", rate: 5.0, startDate: "2024-10-01", remark: "æ ‡å‡†åˆ†æˆ" },
            { leaderId: "leader", leaderName: "åä¸œå›¢é˜Ÿé•¿", team: "east", platformId: "taobao", platformName: "æ·˜å®", rate: 4.5, startDate: "2024-10-01", remark: "æ ‡å‡†åˆ†æˆ" },
            { leaderId: "leader", leaderName: "åä¸œå›¢é˜Ÿé•¿", team: "east", platformId: "taobao_guangguang", platformName: "æ·˜å®é€›é€›", rate: 6.0, startDate: "2024-10-01", remark: "é«˜åˆ†æˆæ¿€åŠ±" },
            { leaderId: "leader2", leaderName: "åå—å›¢é˜Ÿé•¿", team: "south", platformId: "jd", platformName: "äº¬ä¸œ", rate: 4.8, startDate: "2024-10-01", remark: "æ ‡å‡†åˆ†æˆ" },
            { leaderId: "leader2", leaderName: "åå—å›¢é˜Ÿé•¿", team: "south", platformId: "taobao", platformName: "æ·˜å®", rate: 4.2, startDate: "2024-10-01", remark: "æ ‡å‡†åˆ†æˆ" }
        ];
        
        // å›¢é˜Ÿæ•°æ®
        const teams = {
            "east": { name: "åä¸œå›¢é˜Ÿ", leader: "leader", memberCount: 15 },
            "south": { name: "åå—å›¢é˜Ÿ", leader: "leader2", memberCount: 12 },
            "north": { name: "ååŒ—å›¢é˜Ÿ", leader: "leader3", memberCount: 15 },
            "west": { name: "åè¥¿å›¢é˜Ÿ", leader: "leader4", memberCount: 8 },
            "northeast": { name: "ä¸œåŒ—å›¢é˜Ÿ", leader: "leader5", memberCount: 6 },
            "central": { name: "åä¸­å›¢é˜Ÿ", leader: "leader6", memberCount: 5 }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®é»˜è®¤æœˆä»½ä¸ºå½“å‰æœˆ
            const today = new Date();
            const currentMonth = today.toISOString().slice(0, 7);
            document.getElementById('monthSelect').value = currentMonth;
            document.getElementById('dataMonthSelect').value = currentMonth;
            
            // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
            const todayDate = today.toISOString().slice(0, 10);
            document.getElementById('commissionStartDate').value = todayDate;
            
            // è§’è‰²é€‰æ‹©å˜åŒ–æ—¶æ˜¾ç¤º/éšè—å›¢é˜Ÿé€‰æ‹©
            document.getElementById('newUserRole').addEventListener('change', function() {
                const teamSelection = document.getElementById('teamSelection');
                if (this.value === 'leader' || this.value === 'user') {
                    teamSelection.classList.remove('hidden');
                } else {
                    teamSelection.classList.add('hidden');
                }
            });
            
            // é¢œè‰²é€‰æ‹©å™¨åŒæ­¥
            document.getElementById('newPlatformColor').addEventListener('input', function() {
                document.getElementById('newPlatformColorText').value = this.value;
            });
            
            document.getElementById('newPlatformColorText').addEventListener('input', function() {
                document.getElementById('newPlatformColor').value = this.value;
            });
            
            // åˆå§‹åŒ–æ¶ˆæ¯åˆ—è¡¨
            updateNotificationList();
            
            // åˆå§‹åŒ–å¹³å°åˆ—è¡¨
            renderPlatformOptions();
            renderPlatformTemplates();
        });

        // ç™»å½•åŠŸèƒ½
        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // éªŒè¯ç”¨æˆ·
            const user = userDatabase[username];
            if (!user || user.password !== password) {
                alert('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯');
                return;
            }
            
            // ç™»å½•æˆåŠŸ
            currentUser = user;
            showMainSystem();
        }
        
        // æ˜¾ç¤ºä¸»ç³»ç»Ÿ
        function showMainSystem() {
            // éšè—ç™»å½•é¡µé¢
            document.getElementById('loginPage').classList.add('hidden');
            
            // æ˜¾ç¤ºä¸»ç³»ç»Ÿ
            document.getElementById('notificationBar').classList.remove('hidden');
            document.getElementById('mainNav').classList.remove('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('mainFooter').classList.remove('hidden');
            
            // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
            document.getElementById('currentUsername').textContent = currentUser.nickname;
            
            // æ›´æ–°è§’è‰²å¾½ç« 
            const roleBadge = document.getElementById('userRoleBadge');
            const roleConfig = {
                'super_admin': { text: 'è¶…çº§ç®¡ç†å‘˜', bg: 'bg-red-100', textColor: 'text-red-800' },
                'admin': { text: 'ç®¡ç†å‘˜', bg: 'bg-orange-100', textColor: 'text-orange-800' },
                'leader': { text: 'å›¢é•¿', bg: 'bg-blue-100', textColor: 'text-blue-800' },
                'user': { text: 'æ™®é€šç”¨æˆ·', bg: 'bg-gray-100', textColor: 'text-gray-800' }
            };
            
            const config = roleConfig[currentUser.role];
            roleBadge.className = `role-badge ${config.bg} ${config.textColor}`;
            roleBadge.textContent = config.text;
            
            // æ˜¾ç¤º/éšè—ç®¡ç†é€‰é¡¹å¡
            const adminTab = document.getElementById('tab-admin');
            if (currentUser.role === 'super_admin' || currentUser.role === 'admin') {
                adminTab.classList.remove('hidden');
            } else {
                adminTab.classList.add('hidden');
            }
            
            // æ ¹æ®è§’è‰²é™åˆ¶å›¢é˜Ÿç­›é€‰
            if (currentUser.role === 'leader') {
                const teamSelect = document.getElementById('teamSelect');
                const uploadTeamSelect = document.getElementById('uploadTeamSelect');
                
                // å›¢é•¿åªèƒ½æŸ¥çœ‹è‡ªå·±å›¢é˜Ÿçš„æ•°æ®
                Array.from(teamSelect.options).forEach(option => {
                    if (option.value && option.value !== currentUser.team) {
                        option.disabled = true;
                    }
                });
                
                // å›¢é•¿åªèƒ½ä¸Šä¼ è‡ªå·±å›¢é˜Ÿçš„æ•°æ®
                Array.from(uploadTeamSelect.options).forEach(option => {
                    if (option.value && option.value !== currentUser.team) {
                        option.disabled = true;
                    }
                });
                
                // é»˜è®¤é€‰æ‹©è‡ªå·±çš„å›¢é˜Ÿ
                teamSelect.value = currentUser.team;
                uploadTeamSelect.value = currentUser.team;
                
                // éšè—å›¢é˜Ÿç­›é€‰æ ‡ç­¾
                document.querySelector('#teamFilterSection label').textContent = 'æˆ‘çš„å›¢é˜Ÿ';
            }
            
            // åˆå§‹åŒ–å›¾è¡¨
            setTimeout(initCharts, 500);
            
            // å¦‚æœæ˜¯å›¢é•¿ï¼Œæ˜¾ç¤ºåˆ†æˆè¯¦æƒ…æŒ‰é’®
            if (currentUser.role === 'leader') {
                setTimeout(() => {
                    showLeaderCommissionButton();
                }, 1000);
            }
        }
        
        // æ˜¾ç¤ºå›¢é•¿åˆ†æˆè¯¦æƒ…æŒ‰é’®
        function showLeaderCommissionButton() {
            const teamSection = document.querySelector('#content-team .lg\\:col-span-2');
            const button = document.createElement('button');
            button.className = 'bg-accent text-white px-4 py-2 rounded-lg hover:bg-accent/90 transition-colors mb-4';
            button.innerHTML = '<i class="fa fa-percent mr-2"></i>æŸ¥çœ‹æ”¶ç›Šåˆ†æˆè¯¦æƒ…';
            button.onclick = () => showLeaderCommissionModal();
            
            teamSection.insertBefore(button, teamSection.firstChild);
        }
        
        // é€€å‡ºç™»å½•
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                currentUser = null;
                location.reload();
            }
        }
        
        // åˆ‡æ¢ç”¨æˆ·èœå•
        function toggleUserMenu() {
            const menu = document.getElementById('userMenu');
            menu.classList.toggle('hidden');
        }
        
        // æ˜¾ç¤ºç”¨æˆ·èµ„æ–™
        function showUserProfile() {
            alert('ä¸ªäººèµ„æ–™åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...');
            toggleUserMenu();
        }
        
        // æ˜¾ç¤ºä¿®æ”¹å¯†ç 
        function showChangePassword() {
            alert('ä¿®æ”¹å¯†ç åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...');
            toggleUserMenu();
        }
        
        // é€‰é¡¹å¡åˆ‡æ¢åŠŸèƒ½
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹å¡çš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active', 'border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹
            document.getElementById('content-' + tabName).classList.remove('hidden');
            
            // æ¿€æ´»é€‰ä¸­çš„é€‰é¡¹å¡
            const activeTab = document.getElementById('tab-' + tabName);
            activeTab.classList.add('active', 'border-primary', 'text-primary');
            activeTab.classList.remove('border-transparent', 'text-gray-500');
            
            // å¦‚æœæ˜¯æ•°æ®åˆ†æé€‰é¡¹å¡ï¼Œåˆå§‹åŒ–å›¾è¡¨
            if (tabName === 'analysis') {
                setTimeout(initCharts, 100);
            }
            
            // å¦‚æœæ˜¯å›¢é˜Ÿç®¡ç†é€‰é¡¹å¡ï¼Œåˆå§‹åŒ–å›¢é˜Ÿå›¾è¡¨
            if (tabName === 'team') {
                setTimeout(initTeamChart, 100);
            }
            
            // å¦‚æœæ˜¯ç³»ç»Ÿç®¡ç†é€‰é¡¹å¡ï¼Œåˆå§‹åŒ–ç®¡ç†é¡µé¢
            if (tabName === 'admin') {
                setTimeout(() => {
                    showAdminPage('user-management');
                    renderPlatformList();
                    renderCommissionList();
                }, 100);
            }
            
            // å…³é—­ç”¨æˆ·èœå•
            document.getElementById('userMenu').classList.add('hidden');
        }
        
        // æ¸²æŸ“å¹³å°é€‰é¡¹
        function renderPlatformOptions() {
            const platformSelects = [
                document.getElementById('platformSelect'),
                document.getElementById('uploadPlatformSelect'),
                document.getElementById('commissionPlatform')
            ];
            
            platformSelects.forEach(select => {
                if (select) {
                    const options = platformDatabase.map(platform => `
                        <option value="${platform.id}" style="color: ${platform.color}">
                            ${platform.name} (${platform.accountCount}ä¸ªè´¦å·)
                        </option>
                    `).join('');
                    select.innerHTML += options;
                }
            });
        }
        
        // æ¸²æŸ“å¹³å°æ¨¡æ¿
        function renderPlatformTemplates() {
            const container = document.getElementById('platformTemplates');
            if (container) {
                container.innerHTML = platformDatabase.map(platform => `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <span class="platform-badge" style="background-color: ${platform.color}20; color: ${platform.color}">
                                ${platform.name}
                            </span>
                            <span class="text-sm text-gray-700">${platform.name}è´¦å•æ¨¡æ¿.xlsx</span>
                        </div>
                        <button class="text-primary hover:text-primary/80 text-sm">
                            <i class="fa fa-download mr-1"></i>ä¸‹è½½
                        </button>
                    </div>
                `).join('');
            }
        }
        
        // æœç´¢åŠŸèƒ½
        function searchData() {
            const searchType = document.querySelector('input[name="searchType"]:checked').value;
            const searchInput = document.getElementById('searchInput').value;
            const platform = document.getElementById('platformSelect').value;
            const team = document.getElementById('teamSelect').value;
            const month = document.getElementById('monthSelect').value;
            
            if (!searchInput) {
                alert('è¯·è¾“å…¥æŸ¥è¯¢å†…å®¹');
                return;
            }
            
            // å¦‚æœæ˜¯æŒ‰å¡«å†™äººæŸ¥è¯¢ï¼Œéœ€è¦éªŒè¯
            if (searchType === 'nickname') {
                showVerificationModal(searchInput, platform);
                return;
            }
            
            // æ¨¡æ‹Ÿæœç´¢åŠ è½½
            const resultsDiv = document.getElementById('searchResults');
            resultsDiv.innerHTML = '<div class="text-center py-12"><i class="fa fa-spinner fa-spin text-primary text-2xl mb-4"></i><p class="text-gray-600">æ­£åœ¨æœç´¢æ•°æ®...</p></div>';
            
            // æ¨¡æ‹Ÿæœç´¢ç»“æœ
            setTimeout(() => {
                // è¿™é‡Œå¯ä»¥æ ¹æ®å®é™…æœç´¢æ¡ä»¶è¿”å›ä¸åŒçš„ç»“æœ
                resultsDiv.innerHTML = resultsDiv.innerHTML; // ä¿æŒç°æœ‰ç»“æœ
            }, 1000);
        }
        
        // æ˜¾ç¤ºéªŒè¯æ¨¡æ€æ¡†
        function showVerificationModal(nickname, platform) {
            const modal = document.getElementById('verificationModal');
            const verifyNickname = document.getElementById('verifyNickname');
            const formContainer = document.getElementById('dynamicVerificationForm');
            
            verifyNickname.textContent = nickname;
            
            // æ ¹æ®å¹³å°ç”ŸæˆéªŒè¯é€‰é¡¹
            const verificationOptions = getVerificationOptions(platform);
            renderVerificationForm(verificationOptions);
            
            // æ˜¾ç¤ºå¹³å°ç‰¹æ®Šæç¤º
            showPlatformSpecialHint(platform);
            
            // å­˜å‚¨å½“å‰éªŒè¯ä¿¡æ¯
            modal.dataset.nickname = nickname;
            modal.dataset.platform = platform;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        // è·å–éªŒè¯é€‰é¡¹
        function getVerificationOptions(platform) {
            const options = [];
            
            // æŸ¥æ‰¾å¹³å°é…ç½®
            const platformConfig = platformDatabase.find(p => p.id === platform);
            
            // æ·˜å®é€›é€›ç‰¹æ®Šå¤„ç†æˆ–å¼ºåˆ¶IDéªŒè¯çš„å¹³å°
            if (platformConfig && platformConfig.verification === 'force_id') {
                return [{
                    type: 'accountId',
                    label: `${platformConfig.name}è´¦å·ID`,
                    required: true,
                    hint: `${platformConfig.name}æ˜µç§°å¯èƒ½é‡å¤ï¼Œå¿…é¡»éªŒè¯è´¦å·ID`
                }];
            }
            
            // å…¶ä»–å¹³å°æŒ‰ä¼˜å…ˆçº§æ·»åŠ éªŒè¯æ–¹å¼
            options.push({
                type: 'phone',
                label: 'ç»‘å®šæ‰‹æœºå·',
                required: false,
                hint: 'æ¨èä½¿ç”¨æ‰‹æœºå·éªŒè¯ï¼Œæ›´å¿«æ·å‡†ç¡®'
            });
            
            options.push({
                type: 'accountId',
                label: 'è´¦å·ID',
                required: false,
                hint: 'å¹³å°å”¯ä¸€æ ‡è¯†ç¬¦'
            });
            
            options.push({
                type: 'username',
                label: 'è´¦å·æ˜µç§°',
                required: false,
                hint: 'å¹³å°æ˜¾ç¤ºåç§°'
            });
            
            return options;
        }
        
        // æ¸²æŸ“éªŒè¯è¡¨å•
        function renderVerificationForm(options) {
            const formContainer = document.getElementById('dynamicVerificationForm');
            
            formContainer.innerHTML = options.map((option, index) => `
                <div class="verification-option ${option.required ? 'required' : ''}">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        ${option.label} 
                        ${option.required ? '<span class="text-danger">*</span>' : ''}
                    </label>
                    <input type="${option.type === 'phone' ? 'tel' : 'text'}" 
                           id="verification_${option.type}" 
                           placeholder="è¯·è¾“å…¥${option.label}"
                           ${option.required ? 'required' : ''}
                           oninput="checkVerificationInput('${option.type}', this.value)"
                           class="w-full px-3 py-2 border ${option.required ? 'border-danger' : 'border-gray-300'} rounded-lg focus:ring-primary focus:border-primary">
                    ${option.hint ? `<p class="text-xs text-gray-500 mt-1">${option.hint}</p>` : ''}
                </div>
            `).join('');
        }
        
        // æ˜¾ç¤ºå¹³å°ç‰¹æ®Šæç¤º
        function showPlatformSpecialHint(platform) {
            const hintDiv = document.getElementById('platformSpecialHint');
            const hintText = document.getElementById('specialHintText');
            
            const platformConfig = platformDatabase.find(p => p.id === platform);
            
            if (platformConfig && platformConfig.verification === 'force_id') {
                hintText.textContent = `${platformConfig.name}å¹³å°æ˜µç§°é‡å¤ç‡è¾ƒé«˜ï¼Œä¸ºç¡®ä¿éªŒè¯å‡†ç¡®æ€§ï¼Œè¯·æä¾›è´¦å·IDè¿›è¡ŒéªŒè¯ã€‚`;
                hintDiv.classList.remove('hidden');
            } else {
                hintDiv.classList.add('hidden');
            }
        }
        
        // æ£€æŸ¥éªŒè¯è¾“å…¥
        function checkVerificationInput(inputType, value) {
            const feedbackDiv = document.getElementById('verificationFeedback');
            let isValid = false;
            let feedback = '';
            let feedbackClass = '';
            
            // ç®€å•éªŒè¯é€»è¾‘
            switch (inputType) {
                case 'phone':
                    const phonePattern = /^1[3-9]\d{9}$/;
                    if (!phonePattern.test(value)) {
                        feedback = 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·æ ¼å¼';
                        feedbackClass = 'bg-red-50 text-red-600 border border-red-200';
                    } else {
                        feedback = 'æ‰‹æœºå·æ ¼å¼æ­£ç¡® âœ…';
                        feedbackClass = 'bg-green-50 text-green-600 border border-green-200';
                        isValid = true;
                    }
                    break;
                    
                case 'accountId':
                    if (value.length < 4) {
                        feedback = 'è´¦å·IDæ ¼å¼ä¸æ­£ç¡®';
                        feedbackClass = 'bg-red-50 text-red-600 border border-red-200';
                    } else {
                        feedback = 'è´¦å·IDæ ¼å¼æ­£ç¡® âœ…';
                        feedbackClass = 'bg-green-50 text-green-600 border border-green-200';
                        isValid = true;
                    }
                    break;
                    
                case 'username':
                    if (value.length < 2) {
                        feedback = 'è¯·è¾“å…¥æœ‰æ•ˆçš„è´¦å·æ˜µç§°';
                        feedbackClass = 'bg-red-50 text-red-600 border border-red-200';
                    } else {
                        feedback = 'è´¦å·æ˜µç§°æ ¼å¼æ­£ç¡® âœ…';
                        feedbackClass = 'bg-green-50 text-green-600 border border-green-200';
                        isValid = true;
                    }
                    break;
            }
            
            if (value) {
                feedbackDiv.className = `p-3 rounded-lg text-center text-sm ${feedbackClass}`;
                feedbackDiv.textContent = feedback;
                feedbackDiv.classList.remove('hidden');
            } else {
                feedbackDiv.classList.add('hidden');
            }
        }
        
        // æäº¤éªŒè¯
        function submitVerification() {
            const modal = document.getElementById('verificationModal');
            const nickname = modal.dataset.nickname;
            const platform = modal.dataset.platform;
            
            // æ”¶é›†éªŒè¯ä¿¡æ¯
            const verificationData = {};
            const inputs = modal.querySelectorAll('input[id^="verification_"]');
            
            inputs.forEach(input => {
                const type = input.id.split('_')[1];
                if (input.value) {
                    verificationData[type] = input.value;
                }
            });
            
            // éªŒè¯å¿…å¡«é¡¹
            const requiredInputs = modal.querySelectorAll('input[required]');
            for (let input of requiredInputs) {
                if (!input.value) {
                    alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹');
                    return;
                }
            }
            
            // æ¨¡æ‹ŸéªŒè¯è¿‡ç¨‹
            const feedbackDiv = document.getElementById('verificationFeedback');
            feedbackDiv.className = 'p-3 rounded-lg text-center text-sm bg-yellow-50 text-yellow-600 border border-yellow-200';
            feedbackDiv.textContent = 'æ­£åœ¨éªŒè¯...';
            feedbackDiv.classList.remove('hidden');
            
            setTimeout(() => {
                // æ¨¡æ‹ŸéªŒè¯æˆåŠŸ
                feedbackDiv.className = 'p-3 rounded-lg text-center text-sm bg-green-50 text-green-600 border border-green-200';
                feedbackDiv.textContent = 'éªŒè¯æˆåŠŸï¼æ­£åœ¨åŠ è½½æ•°æ®...';
                
                setTimeout(() => {
                    closeVerificationModal();
                    // æ‰§è¡Œæœç´¢
                    performSearchAfterVerification(nickname, platform);
                }, 1500);
            }, 1000);
        }
        
        // éªŒè¯åæ‰§è¡Œæœç´¢
        function performSearchAfterVerification(nickname, platform) {
            const resultsDiv = document.getElementById('searchResults');
            resultsDiv.innerHTML = '<div class="text-center py-12"><i class="fa fa-spinner fa-spin text-primary text-2xl mb-4"></i><p class="text-gray-600">æ­£åœ¨æœç´¢æ•°æ®...</p></div>';
            
            setTimeout(() => {
                // è¿™é‡Œå¯ä»¥æ ¹æ®å®é™…æœç´¢æ¡ä»¶è¿”å›ä¸åŒçš„ç»“æœ
                resultsDiv.innerHTML = resultsDiv.innerHTML; // ä¿æŒç°æœ‰ç»“æœ
            }, 1000);
        }
        
        // å–æ¶ˆéªŒè¯
        function cancelVerification() {
            closeVerificationModal();
        }
        
        // å…³é—­éªŒè¯æ¨¡æ€æ¡†
        function closeVerificationModal() {
            const modal = document.getElementById('verificationModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // æ¸…é™¤éªŒè¯ä¿¡æ¯
            modal.removeAttribute('data-nickname');
            modal.removeAttribute('data-platform');
            
            // æ¸…é™¤åé¦ˆ
            document.getElementById('verificationFeedback').classList.add('hidden');
        }
        
        // æ–‡ä»¶ä¸Šä¼ å¤„ç†
        function handleFileUpload(event) {
            const files = event.target.files;
            const team = document.getElementById('uploadTeamSelect').value;
            const platform = document.getElementById('uploadPlatformSelect').value;
            const dataType = document.getElementById('dataTypeSelect').value;
            const month = document.getElementById('dataMonthSelect').value;
            
            if (!team) {
                alert('è¯·é€‰æ‹©æ‰€å±å›¢é˜Ÿ');
                return;
            }
            
            if (!platform) {
                alert('è¯·é€‰æ‹©å¹³å°');
                return;
            }
            
            if (files.length === 0) return;
            
            // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
            showUploadProgress(files);
            
            // æ¨¡æ‹Ÿæ–‡ä»¶è§£æå’Œå­—æ®µåŒ¹é…
            setTimeout(() => {
                showMappingWizard(files[0], platform);
            }, 1000);
        }
        
        // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
        function showUploadProgress(files) {
            // è¿™é‡Œå¯ä»¥æ·»åŠ ä¸Šä¼ è¿›åº¦çš„æ˜¾ç¤ºé€»è¾‘
            console.log('ä¸Šä¼ æ–‡ä»¶:', files);
        }
        
        // æ˜¾ç¤ºå­—æ®µåŒ¹é…å‘å¯¼
        function showMappingWizard(file, platform) {
            const modal = document.getElementById('mappingWizard');
            const sourceFields = document.getElementById('sourceFields');
            const targetMappings = document.getElementById('targetMappings');
            
            // æ¨¡æ‹Ÿè§£ææ–‡ä»¶å­—æ®µï¼ˆå®é™…é¡¹ç›®ä¸­éœ€è¦çœŸå®è§£æExcel/CSVï¼‰
            const sampleFields = ['è®¢å•ç¼–å·', 'å•†å“åç§°', 'ä¹°å®¶æ˜µç§°', 'ä»˜æ¬¾æ—¶é—´', 'å®ä»˜æ¬¾', 'è®¢å•çŠ¶æ€'];
            
            // ç”Ÿæˆæºæ–‡ä»¶å­—æ®µåˆ—è¡¨
            sourceFields.innerHTML = sampleFields.map(field => `
                <div class="p-2 bg-gray-50 rounded text-sm">${field}</div>
            `).join('');
            
            // ç”Ÿæˆç›®æ ‡å­—æ®µåŒ¹é…åˆ—è¡¨
            const systemFields = [
                { name: 'order_id', label: 'è®¢å•ç¼–å·' },
                { name: 'product_name', label: 'å•†å“åç§°' },
                { name: 'buyer_name', label: 'ä¹°å®¶æ˜µç§°' },
                { name: 'pay_time', label: 'ä»˜æ¬¾æ—¶é—´' },
                { name: 'amount', label: 'è®¢å•é‡‘é¢' },
                { name: 'status', label: 'è®¢å•çŠ¶æ€' }
            ];
            
            targetMappings.innerHTML = systemFields.map(field => `
                <div class="flex items-center space-x-2">
                    <select class="flex-1 px-3 py-1 border border-gray-300 rounded text-sm focus:ring-primary focus:border-primary">
                        <option value="">-- è¯·é€‰æ‹© --</option>
                        ${sampleFields.map(f => `<option value="${f}">${f}</option>`).join('')}
                    </select>
                    <span class="text-sm text-gray-600">â†’ ${field.label}</span>
                </div>
            `).join('');
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        // å…³é—­å­—æ®µåŒ¹é…å‘å¯¼
        function closeMappingWizard() {
            const modal = document.getElementById('mappingWizard');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        // è‡ªåŠ¨åŒ¹é…å­—æ®µ
        function autoMapFields() {
            // æ¨¡æ‹Ÿæ™ºèƒ½åŒ¹é…é€»è¾‘
            const mappings = {
                'è®¢å•ç¼–å·': 'order_id',
                'å•†å“åç§°': 'product_name',
                'ä¹°å®¶æ˜µç§°': 'buyer_name',
                'ä»˜æ¬¾æ—¶é—´': 'pay_time',
                'å®ä»˜æ¬¾': 'amount',
                'è®¢å•çŠ¶æ€': 'status'
            };
            
            // åº”ç”¨è‡ªåŠ¨åŒ¹é…
            const selects = document.querySelectorAll('#targetMappings select');
            selects.forEach(select => {
                const fieldName = select.parentElement.querySelector('span').textContent.split('â†’ ')[1];
                for (let [source, target] of Object.entries(mappings)) {
                    if (target === fieldName.toLowerCase().replace(/\s+/g, '_')) {
                        select.value = source;
                        break;
                    }
                }
            });
            
            alert('è‡ªåŠ¨åŒ¹é…å®Œæˆï¼');
        }
        
        // ç¡®è®¤åŒ¹é…
        function confirmMapping() {
            // æ”¶é›†åŒ¹é…ç»“æœ
            const selects = document.querySelectorAll('#targetMappings select');
            const mappingResults = [];
            
            selects.forEach(select => {
                if (select.value) {
                    const targetField = select.parentElement.querySelector('span').textContent.split('â†’ ')[1];
                    mappingResults.push({
                        source: select.value,
                        target: targetField
                    });
                }
            });
            
            console.log('åŒ¹é…ç»“æœ:', mappingResults);
            alert('å­—æ®µåŒ¹é…æˆåŠŸï¼å¼€å§‹å¯¼å…¥æ•°æ®...');
            closeMappingWizard();
            
            // æ¨¡æ‹Ÿæ•°æ®å¯¼å…¥
            setTimeout(() => {
                alert('æ•°æ®å¯¼å…¥å®Œæˆï¼');
            }, 2000);
        }
        
        // ä¿å­˜åŒ¹é…è§„åˆ™
        function saveMappingRule() {
            alert('åŒ¹é…è§„åˆ™å·²ä¿å­˜ï¼ä¸‹æ¬¡ä¸Šä¼ ç›¸åŒæ ¼å¼æ–‡ä»¶æ—¶å°†è‡ªåŠ¨åº”ç”¨ã€‚');
        }
        
        // æ¶ˆæ¯ç®¡ç†
        function toggleNotificationManager() {
            const modal = document.getElementById('notificationModal');
            modal.classList.toggle('hidden');
            modal.classList.toggle('flex');
        }
        
        // æ·»åŠ æ¶ˆæ¯
        function addNotification() {
            const text = document.getElementById('notificationText').value;
            const type = document.getElementById('notificationType').value;
            const duration = document.getElementById('notificationDuration').value;
            
            if (!text) {
                alert('è¯·è¾“å…¥æ¶ˆæ¯å†…å®¹');
                return;
            }
            
            // è·å–æ¶ˆæ¯å‰ç¼€
            const prefixMap = {
                'info': 'ğŸ“¢',
                'announcement': 'ğŸ“£',
                'warning': 'âš ï¸',
                'celebration': 'ğŸ‰'
            };
            
            const prefix = prefixMap[type] || 'ğŸ“¢';
            const newNotification = `${prefix} ${text}`;
            
            // æ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨
            notifications.unshift(newNotification);
            
            // æ›´æ–°æ»šåŠ¨æ¶ˆæ¯
            updateMarqueeContent();
            
            // æ›´æ–°æ¶ˆæ¯åˆ—è¡¨
            updateNotificationList();
            
            // æ¸…ç©ºè¾“å…¥
            document.getElementById('notificationText').value = '';
            
            alert('æ¶ˆæ¯æ·»åŠ æˆåŠŸï¼');
        }
        
        // åˆ é™¤æ¶ˆæ¯
        function deleteNotification(button) {
            const notification = button.parentElement.querySelector('span').textContent;
            const index = notifications.indexOf(notification);
            if (index > -1) {
                notifications.splice(index, 1);
                updateMarqueeContent();
                updateNotificationList();
            }
            button.parentElement.remove();
        }
        
        // æ¸…ç©ºæ‰€æœ‰æ¶ˆæ¯
        function clearAllNotifications() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ¶ˆæ¯å—ï¼Ÿ')) {
                notifications = [];
                updateMarqueeContent();
                updateNotificationList();
            }
        }
        
        // æ›´æ–°æ»šåŠ¨æ¶ˆæ¯å†…å®¹
        function updateMarqueeContent() {
            const marqueeContent = document.getElementById('marqueeContent');
            marqueeContent.innerHTML = notifications.map(notification => 
                `<span class="inline-block px-8">${notification}</span>`
            ).join('');
        }
        
        // æ›´æ–°æ¶ˆæ¯åˆ—è¡¨
        function updateNotificationList() {
            const notificationList = document.getElementById('notificationList');
            notificationList.innerHTML = notifications.map(notification => `
                <div class="flex items-center justify-between p-2 bg-gray-50 rounded">
                    <span class="text-sm text-gray-700">${notification}</span>
                    <button onclick="deleteNotification(this)" class="text-gray-400 hover:text-red-500">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            `).join('');
        }
        
        // æ˜¾ç¤ºç®¡ç†å‘˜é¡µé¢
        function showAdminPage(pageName) {
            // éšè—æ‰€æœ‰ç®¡ç†é¡µé¢
            document.querySelectorAll('.admin-page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„é¡µé¢
            document.getElementById(`admin-${pageName}`).classList.remove('hidden');
            
            // æ›´æ–°èœå•çŠ¶æ€
            document.querySelectorAll('#content-admin button').forEach(btn => {
                btn.classList.remove('bg-primary/10', 'text-primary');
                btn.classList.add('hover:bg-gray-50', 'text-gray-700');
            });
            
            event.target.classList.add('bg-primary/10', 'text-primary');
            event.target.classList.remove('hover:bg-gray-50', 'text-gray-700');
        }
        
        // æ¸²æŸ“å¹³å°åˆ—è¡¨
        function renderPlatformList() {
            const container = document.getElementById('platformList');
            if (container) {
                container.innerHTML = platformDatabase.map(platform => `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="platform-badge" style="background-color: ${platform.color}20; color: ${platform.color}">
                                ${platform.name}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${platform.id}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 py-1 text-xs font-semibold rounded-full ${platform.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}">
                                ${platform.status === 'active' ? 'å¯ç”¨' : 'ç¦ç”¨'}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${platform.accountCount}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024-10-01</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                            <button class="text-gray-400 hover:text-gray-600">${platform.status === 'active' ? 'ç¦ç”¨' : 'å¯ç”¨'}</button>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // æ¸²æŸ“åˆ†æˆè§„åˆ™åˆ—è¡¨
        function renderCommissionList() {
            const container = document.getElementById('commissionList');
            if (container) {
                container.innerHTML = commissionRules.map(rule => `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${rule.leaderName}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${teams[rule.team]?.name || 'æœªçŸ¥å›¢é˜Ÿ'}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="platform-badge" style="background-color: ${getPlatformColor(rule.platformId)}20; color: ${getPlatformColor(rule.platformId)}">
                                ${rule.platformName}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="commission-badge">${rule.rate}%</span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${rule.startDate}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <button class="text-primary hover:text-primary/80 mr-3">ç¼–è¾‘</button>
                            <button class="text-danger hover:text-danger/80">åˆ é™¤</button>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // è·å–å¹³å°é¢œè‰²
        function getPlatformColor(platformId) {
            const platform = platformDatabase.find(p => p.id === platformId);
            return platform ? platform.color : '#165DFF';
        }
        
        // æ˜¾ç¤ºæ·»åŠ å¹³å°æ¨¡æ€æ¡†
        function showAddPlatformModal() {
            const modal = document.getElementById('addPlatformModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        // å…³é—­æ·»åŠ å¹³å°æ¨¡æ€æ¡†
        function closeAddPlatformModal() {
            const modal = document.getElementById('addPlatformModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('newPlatformName').value = '';
            document.getElementById('newPlatformCode').value = '';
            document.getElementById('newPlatformColor').value = '#165DFF';
            document.getElementById('newPlatformColorText').value = '#165DFF';
            document.getElementById('newPlatformStatus').value = 'active';
            document.getElementById('newPlatformVerification').value = 'normal';
        }
        
        // æ·»åŠ æ–°å¹³å°
        function addNewPlatform() {
            const name = document.getElementById('newPlatformName').value;
            const code = document.getElementById('newPlatformCode').value;
            const color = document.getElementById('newPlatformColor').value;
            const status = document.getElementById('newPlatformStatus').value;
            const verification = document.getElementById('newPlatformVerification').value;
            
            if (!name || !code) {
                alert('è¯·å¡«å†™å¹³å°åç§°å’Œæ ‡è¯†');
                return;
            }
            
            // æ£€æŸ¥å¹³å°æ ‡è¯†æ˜¯å¦å·²å­˜åœ¨
            const exists = platformDatabase.some(p => p.id === code);
            if (exists) {
                alert('å¹³å°æ ‡è¯†å·²å­˜åœ¨');
                return;
            }
            
            // åˆ›å»ºæ–°å¹³å°
            const newPlatform = {
                id: code,
                name: name,
                color: color,
                status: status,
                verification: verification,
                accountCount: 0
            };
            
            // æ·»åŠ åˆ°å¹³å°æ•°æ®åº“
            platformDatabase.push(newPlatform);
            
            // æ›´æ–°ç•Œé¢
            renderPlatformOptions();
            renderPlatformTemplates();
            renderPlatformList();
            
            alert('å¹³å°æ·»åŠ æˆåŠŸï¼');
            closeAddPlatformModal();
        }
        
        // æ˜¾ç¤ºæ·»åŠ åˆ†æˆè§„åˆ™æ¨¡æ€æ¡†
        function showAddCommissionModal() {
            const modal = document.getElementById('addCommissionModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        // å…³é—­æ·»åŠ åˆ†æˆè§„åˆ™æ¨¡æ€æ¡†
        function closeAddCommissionModal() {
            const modal = document.getElementById('addCommissionModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('commissionLeader').value = '';
            document.getElementById('commissionPlatform').value = '';
            document.getElementById('commissionRate').value = '5.0';
            document.getElementById('commissionStartDate').value = new Date().toISOString().slice(0, 10);
            document.getElementById('commissionRemark').value = '';
        }
        
        // æ·»åŠ æ–°åˆ†æˆè§„åˆ™
        function addNewCommission() {
            const leaderId = document.getElementById('commissionLeader').value;
            const platformId = document.getElementById('commissionPlatform').value;
            const rate = parseFloat(document.getElementById('commissionRate').value);
            const startDate = document.getElementById('commissionStartDate').value;
            const remark = document.getElementById('commissionRemark').value;
            
            if (!leaderId || !platformId || !rate) {
                alert('è¯·å¡«å†™å¿…å¡«é¡¹');
                return;
            }
            
            if (rate < 0 || rate > 100) {
                alert('åˆ†æˆæ¯”ä¾‹å¿…é¡»åœ¨0-100ä¹‹é—´');
                return;
            }
            
            // è·å–å›¢é•¿ä¿¡æ¯
            const leader = userDatabase[leaderId];
            const platform = platformDatabase.find(p => p.id === platformId);
            
            // åˆ›å»ºæ–°åˆ†æˆè§„åˆ™
            const newCommission = {
                leaderId: leaderId,
                leaderName: leader.nickname,
                team: leader.team,
                platformId: platformId,
                platformName: platform.name,
                rate: rate,
                startDate: startDate,
                remark: remark
            };
            
            // æ·»åŠ åˆ°åˆ†æˆè§„åˆ™æ•°æ®åº“
            commissionRules.push(newCommission);
            
            // æ›´æ–°ç•Œé¢
            renderCommissionList();
            
            alert('åˆ†æˆè§„åˆ™æ·»åŠ æˆåŠŸï¼');
            closeAddCommissionModal();
        }
        
        // æ˜¾ç¤ºå›¢é•¿æ”¶ç›Šåˆ†æˆè¯¦æƒ…æ¨¡æ€æ¡†
        function showLeaderCommissionModal() {
            const modal = document.getElementById('leaderCommissionModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        // å…³é—­å›¢é•¿æ”¶ç›Šåˆ†æˆè¯¦æƒ…æ¨¡æ€æ¡†
        function closeLeaderCommissionModal() {
            const modal = document.getElementById('leaderCommissionModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        // å¯¼å‡ºå›¢é•¿æ”¶ç›Šåˆ†æˆæ•°æ®
        function exportLeaderCommission() {
            // æ¨¡æ‹Ÿå¯¼å‡ºæ•°æ®
            const data = [
                ['å¹³å°', 'ä¸‹å±æ€»æ”¶ç›Š', 'åˆ†æˆæ¯”ä¾‹', 'å›¢é•¿åˆ†æˆ', 'è®¢å•æ•°'],
                ['äº¬ä¸œ', 'Â¥45,680', '5.0%', 'Â¥2,284', '123'],
                ['æ·˜å®', 'Â¥28,920', '4.5%', 'Â¥1,301', '234'],
                ['æ·˜å®é€›é€›', 'Â¥14,940', '6.0%', 'Â¥896', '89'],
                ['åˆè®¡', 'Â¥89,540', '5.0%', 'Â¥4,477', '446']
            ];
            
            // åˆ›å»ºå·¥ä½œç°¿
            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.aoa_to_sheet(data);
            
            // æ·»åŠ å·¥ä½œè¡¨
            XLSX.utils.book_append_sheet(wb, ws, "å›¢é•¿åˆ†æˆè¯¦æƒ…");
            
            // å¯¼å‡ºæ–‡ä»¶
            XLSX.writeFile(wb, `${currentUser.nickname}_åˆ†æˆè¯¦æƒ…_${new Date().toLocaleDateString()}.xlsx`);
        }
        
        // å¯¼å‡ºå›¢é˜Ÿæ•°æ®
        function exportTeamData() {
            // æ¨¡æ‹Ÿå¯¼å‡ºå›¢é˜Ÿæ•°æ®
            const teamData = [
                ['å›¢é˜Ÿåç§°', 'å›¢é•¿', 'æˆå‘˜æ•°', 'æ€»æ”¶ç›Š', 'å¹³å‡æ”¶ç›Š', 'ç¯æ¯”å¢é•¿'],
                ['åä¸œå›¢é˜Ÿ', 'å¼ ç»ç†', '15', 'Â¥89,540', 'Â¥5,969', '+12.5%'],
                ['åå—å›¢é˜Ÿ', 'ç‹ç»ç†', '12', 'Â¥67,230', 'Â¥5,603', '+8.3%'],
                ['ååŒ—å›¢é˜Ÿ', 'æç»ç†', '15', 'Â¥72,890', 'Â¥4,859', '-2.1%'],
                ['åè¥¿å›¢é˜Ÿ', 'èµµç»ç†', '8', 'Â¥56,430', 'Â¥7,054', '+5.7%'],
                ['ä¸œåŒ—å›¢é˜Ÿ', 'å­™ç»ç†', '6', 'Â¥45,670', 'Â¥7,612', '+3.2%'],
                ['åä¸­å›¢é˜Ÿ', 'å‘¨ç»ç†', '5', 'Â¥38,920', 'Â¥7,784', '+10.1%']
            ];
            
            // åˆ›å»ºå·¥ä½œç°¿
            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.aoa_to_sheet(teamData);
            
            // æ·»åŠ å·¥ä½œè¡¨
            XLSX.utils.book_append_sheet(wb, ws, "å›¢é˜Ÿæ”¶ç›Šç»Ÿè®¡");
            
            // å¯¼å‡ºæ–‡ä»¶
            XLSX.writeFile(wb, `å›¢é˜Ÿæ”¶ç›Šç»Ÿè®¡_${new Date().toLocaleDateString()}.xlsx`);
        }
        
        // åˆå§‹åŒ–å›¾è¡¨
        function initCharts() {
            // å¹³å°æ”¶ç›Šåˆ†å¸ƒé¥¼å›¾
            const platformCtx = document.getElementById('platformChart');
            if (platformCtx && !platformCtx.chart) {
                platformCtx.chart = new Chart(platformCtx, {
                    type: 'doughnut',
                    data: {
                        labels: platformDatabase.map(p => p.name),
                        datasets: [{
                            data: platformDatabase.map(p => p.accountCount * 10000), // æ¨¡æ‹Ÿæ•°æ®
                            backgroundColor: platformDatabase.map(p => p.color),
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
            }
            
            // æœˆåº¦æ”¶ç›Šè¶‹åŠ¿çº¿å›¾
            const monthlyCtx = document.getElementById('monthlyChart');
            if (monthlyCtx && !monthlyCtx.chart) {
                monthlyCtx.chart = new Chart(monthlyCtx, {
                    type: 'line',
                    data: {
                        labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ'],
                        datasets: [{
                            label: 'æœˆåº¦æ”¶ç›Š',
                            data: [856000, 789000, 923000, 890000, 956000, 1023000, 987000, 1056000, 1123000, 1216780],
                            borderColor: '#165DFF',
                            backgroundColor: 'rgba(22, 93, 255, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: false,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }
            
            // å›¢é˜Ÿæ”¶ç›Šå¯¹æ¯”å›¾
            const teamComparisonCtx = document.getElementById('teamComparisonChart');
            if (teamComparisonCtx && !teamComparisonCtx.chart) {
                teamComparisonCtx.chart = new Chart(teamComparisonCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.values(teams).map(t => t.name),
                        datasets: [{
                            label: 'å›¢é˜Ÿæ”¶ç›Š',
                            data: Object.values(teams).map((t, i) => [89540, 67230, 72890, 56430, 45670, 38920][i]),
                            backgroundColor: [
                                '#165DFF',
                                '#722ED1',
                                '#36CFC9',
                                '#FAAD14',
                                '#FF4D4F',
                                '#52C41A'
                            ],
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }
        }
        
        // åˆå§‹åŒ–å›¢é˜Ÿå›¾è¡¨
        function initTeamChart() {
            const teamCtx = document.getElementById('teamChart');
            if (teamCtx && !teamCtx.chart) {
                // æ ¹æ®ç”¨æˆ·è§’è‰²è¿‡æ»¤æ•°æ®
                let teamData = [89540, 67230, 72890];
                let teamLabels = ['åä¸œå›¢é˜Ÿ', 'åå—å›¢é˜Ÿ', 'ååŒ—å›¢é˜Ÿ'];
                
                if (currentUser.role === 'leader') {
                    // å›¢é•¿åªèƒ½çœ‹åˆ°è‡ªå·±å›¢é˜Ÿçš„æ•°æ®
                    const teamConfig = {
                        'east': { name: 'åä¸œå›¢é˜Ÿ', data: [89540] },
                        'south': { name: 'åå—å›¢é˜Ÿ', data: [67230] },
                        'north': { name: 'ååŒ—å›¢é˜Ÿ', data: [72890] },
                        'west': { name: 'åè¥¿å›¢é˜Ÿ', data: [56430] },
                        'northeast': { name: 'ä¸œåŒ—å›¢é˜Ÿ', data: [45670] },
                        'central': { name: 'åä¸­å›¢é˜Ÿ', data: [38920] }
                    };
                    
                    const myTeam = teamConfig[currentUser.team];
                    teamData = myTeam.data;
                    teamLabels = [myTeam.name];
                }
                
                teamCtx.chart = new Chart(teamCtx, {
                    type: 'bar',
                    data: {
                        labels: teamLabels,
                        datasets: [{
                            label: 'å›¢é˜Ÿæ”¶ç›Š',
                            data: teamData,
                            backgroundColor: [
                                '#165DFF',
                                '#722ED1',
                                '#36CFC9'
                            ],
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }
        }
        
        // å›¢é˜Ÿç­›é€‰åŠŸèƒ½
        document.getElementById('teamFilterSelect').addEventListener('change', function() {
            const selectedTeam = this.value;
            console.log('ç­›é€‰å›¢é˜Ÿ:', selectedTeam);
            // è¿™é‡Œå¯ä»¥æ·»åŠ å›¢é˜Ÿç­›é€‰çš„é€»è¾‘
        });
        
        // æ¨¡æ‹Ÿæ•°æ®åŒæ­¥çŠ¶æ€
        setInterval(function() {
            if (currentUser) {
                const statusIndicators = document.querySelectorAll('.status-indicator');
                statusIndicators.forEach(indicator => {
                    if (indicator.classList.contains('bg-success')) {
                        indicator.classList.remove('bg-success');
                        indicator.classList.add('bg-warning', 'animate-pulse');
                    } else if (indicator.classList.contains('bg-warning')) {
                        indicator.classList.remove('bg-warning', 'animate-pulse');
                        indicator.classList.add('bg-success');
                    }
                });
            }
        }, 3000);
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.addEventListener('click', function(event) {
            const modals = ['notificationModal', 'verificationModal', 'addUserModal', 'addPlatformModal', 'addCommissionModal', 'leaderCommissionModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            });
        });
        
        // æ·»åŠ å›è½¦é”®ç™»å½•åŠŸèƒ½
        document.getElementById('loginPassword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                login();
            }
        });
        
        // æ·»åŠ å›è½¦é”®æœç´¢åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchData();
            }
        });
    </script>
</body>
</html>
